(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function I_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bf={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function kE(){if(ly)return zl;ly=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return zl.Fragment=e,zl.jsx=i,zl.jsxs=i,zl}var oy;function jE(){return oy||(oy=1,bf.exports=kE()),bf.exports}var Q=jE(),Rf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function qE(){if(uy)return bt;uy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),V=Symbol.iterator;function D(C){return C===null||typeof C!="object"?null:(C=V&&C[V]||C["@@iterator"],typeof C=="function"?C:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,nt={};function J(C,$,rt){this.props=C,this.context=$,this.refs=nt,this.updater=rt||q}J.prototype.isReactComponent={},J.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},J.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function lt(){}lt.prototype=J.prototype;function at(C,$,rt){this.props=C,this.context=$,this.refs=nt,this.updater=rt||q}var st=at.prototype=new lt;st.constructor=at,Z(st,J.prototype),st.isPureReactComponent=!0;var Et=Array.isArray,gt={H:null,A:null,T:null,S:null,V:null},tt=Object.prototype.hasOwnProperty;function N(C,$,rt,W,mt,Ct){return rt=Ct.ref,{$$typeof:r,type:C,key:$,ref:rt!==void 0?rt:null,props:Ct}}function S(C,$){return N(C.type,$,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function x(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(rt){return $[rt]})}var O=/\/+/g;function U(C,$){return typeof C=="object"&&C!==null&&C.key!=null?x(""+C.key):$.toString(36)}function w(){}function Me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function($){C.status==="pending"&&(C.status="fulfilled",C.value=$)},function($){C.status==="pending"&&(C.status="rejected",C.reason=$)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ae(C,$,rt,W,mt){var Ct=typeof C;(Ct==="undefined"||Ct==="boolean")&&(C=null);var Tt=!1;if(C===null)Tt=!0;else switch(Ct){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(C.$$typeof){case r:case e:Tt=!0;break;case A:return Tt=C._init,ae(Tt(C._payload),$,rt,W,mt)}}if(Tt)return mt=mt(C),Tt=W===""?"."+U(C,0):W,Et(mt)?(rt="",Tt!=null&&(rt=Tt.replace(O,"$&/")+"/"),ae(mt,$,rt,"",function(zn){return zn})):mt!=null&&(R(mt)&&(mt=S(mt,rt+(mt.key==null||C&&C.key===mt.key?"":(""+mt.key).replace(O,"$&/")+"/")+Tt)),$.push(mt)),1;Tt=0;var Ce=W===""?".":W+":";if(Et(C))for(var Zt=0;Zt<C.length;Zt++)W=C[Zt],Ct=Ce+U(W,Zt),Tt+=ae(W,$,rt,Ct,mt);else if(Zt=D(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(W=C.next()).done;)W=W.value,Ct=Ce+U(W,Zt++),Tt+=ae(W,$,rt,Ct,mt);else if(Ct==="object"){if(typeof C.then=="function")return ae(Me(C),$,rt,W,mt);throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function H(C,$,rt){if(C==null)return C;var W=[],mt=0;return ae(C,W,"","",function(Ct){return $.call(rt,Ct,mt++)}),W}function it(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(rt){(C._status===0||C._status===-1)&&(C._status=1,C._result=rt)},function(rt){(C._status===0||C._status===-1)&&(C._status=2,C._result=rt)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var ft=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pt(){}return bt.Children={map:H,forEach:function(C,$,rt){H(C,function(){$.apply(this,arguments)},rt)},count:function(C){var $=0;return H(C,function(){$++}),$},toArray:function(C){return H(C,function($){return $})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},bt.Component=J,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=at,bt.StrictMode=s,bt.Suspense=_,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt,bt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return gt.H.useMemoCache(C)}},bt.cache=function(C){return function(){return C.apply(null,arguments)}},bt.cloneElement=function(C,$,rt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=Z({},C.props),mt=C.key,Ct=void 0;if($!=null)for(Tt in $.ref!==void 0&&(Ct=void 0),$.key!==void 0&&(mt=""+$.key),$)!tt.call($,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&$.ref===void 0||(W[Tt]=$[Tt]);var Tt=arguments.length-2;if(Tt===1)W.children=rt;else if(1<Tt){for(var Ce=Array(Tt),Zt=0;Zt<Tt;Zt++)Ce[Zt]=arguments[Zt+2];W.children=Ce}return N(C.type,mt,void 0,void 0,Ct,W)},bt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},bt.createElement=function(C,$,rt){var W,mt={},Ct=null;if($!=null)for(W in $.key!==void 0&&(Ct=""+$.key),$)tt.call($,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(mt[W]=$[W]);var Tt=arguments.length-2;if(Tt===1)mt.children=rt;else if(1<Tt){for(var Ce=Array(Tt),Zt=0;Zt<Tt;Zt++)Ce[Zt]=arguments[Zt+2];mt.children=Ce}if(C&&C.defaultProps)for(W in Tt=C.defaultProps,Tt)mt[W]===void 0&&(mt[W]=Tt[W]);return N(C,Ct,void 0,void 0,null,mt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(C){return{$$typeof:g,render:C}},bt.isValidElement=R,bt.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:it}},bt.memo=function(C,$){return{$$typeof:v,type:C,compare:$===void 0?null:$}},bt.startTransition=function(C){var $=gt.T,rt={};gt.T=rt;try{var W=C(),mt=gt.S;mt!==null&&mt(rt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Pt,ft)}catch(Ct){ft(Ct)}finally{gt.T=$}},bt.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()},bt.use=function(C){return gt.H.use(C)},bt.useActionState=function(C,$,rt){return gt.H.useActionState(C,$,rt)},bt.useCallback=function(C,$){return gt.H.useCallback(C,$)},bt.useContext=function(C){return gt.H.useContext(C)},bt.useDebugValue=function(){},bt.useDeferredValue=function(C,$){return gt.H.useDeferredValue(C,$)},bt.useEffect=function(C,$,rt){var W=gt.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,$)},bt.useId=function(){return gt.H.useId()},bt.useImperativeHandle=function(C,$,rt){return gt.H.useImperativeHandle(C,$,rt)},bt.useInsertionEffect=function(C,$){return gt.H.useInsertionEffect(C,$)},bt.useLayoutEffect=function(C,$){return gt.H.useLayoutEffect(C,$)},bt.useMemo=function(C,$){return gt.H.useMemo(C,$)},bt.useOptimistic=function(C,$){return gt.H.useOptimistic(C,$)},bt.useReducer=function(C,$,rt){return gt.H.useReducer(C,$,rt)},bt.useRef=function(C){return gt.H.useRef(C)},bt.useState=function(C){return gt.H.useState(C)},bt.useSyncExternalStore=function(C,$,rt){return gt.H.useSyncExternalStore(C,$,rt)},bt.useTransition=function(){return gt.H.useTransition()},bt.version="19.1.0",bt}var cy;function cd(){return cy||(cy=1,Rf.exports=qE()),Rf.exports}var Re=cd();const HE=I_(Re);var wf={exports:{}},Pl={},Cf={exports:{}},Df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function GE(){return hy||(hy=1,function(r){function e(H,it){var ft=H.length;H.push(it);t:for(;0<ft;){var Pt=ft-1>>>1,C=H[Pt];if(0<o(C,it))H[Pt]=it,H[ft]=C,ft=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var it=H[0],ft=H.pop();if(ft!==it){H[0]=ft;t:for(var Pt=0,C=H.length,$=C>>>1;Pt<$;){var rt=2*(Pt+1)-1,W=H[rt],mt=rt+1,Ct=H[mt];if(0>o(W,ft))mt<C&&0>o(Ct,W)?(H[Pt]=Ct,H[mt]=ft,Pt=mt):(H[Pt]=W,H[rt]=ft,Pt=rt);else if(mt<C&&0>o(Ct,ft))H[Pt]=Ct,H[mt]=ft,Pt=mt;else break t}}return it}function o(H,it){var ft=H.sortIndex-it.sortIndex;return ft!==0?ft:H.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,V=null,D=3,q=!1,Z=!1,nt=!1,J=!1,lt=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function Et(H){for(var it=i(v);it!==null;){if(it.callback===null)s(v);else if(it.startTime<=H)s(v),it.sortIndex=it.expirationTime,e(_,it);else break;it=i(v)}}function gt(H){if(nt=!1,Et(H),!Z)if(i(_)!==null)Z=!0,tt||(tt=!0,U());else{var it=i(v);it!==null&&ae(gt,it.startTime-H)}}var tt=!1,N=-1,S=5,R=-1;function x(){return J?!0:!(r.unstable_now()-R<S)}function O(){if(J=!1,tt){var H=r.unstable_now();R=H;var it=!0;try{t:{Z=!1,nt&&(nt=!1,at(N),N=-1),q=!0;var ft=D;try{e:{for(Et(H),V=i(_);V!==null&&!(V.expirationTime>H&&x());){var Pt=V.callback;if(typeof Pt=="function"){V.callback=null,D=V.priorityLevel;var C=Pt(V.expirationTime<=H);if(H=r.unstable_now(),typeof C=="function"){V.callback=C,Et(H),it=!0;break e}V===i(_)&&s(_),Et(H)}else s(_);V=i(_)}if(V!==null)it=!0;else{var $=i(v);$!==null&&ae(gt,$.startTime-H),it=!1}}break t}finally{V=null,D=ft,q=!1}it=void 0}}finally{it?U():tt=!1}}}var U;if(typeof st=="function")U=function(){st(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Me=w.port2;w.port1.onmessage=O,U=function(){Me.postMessage(null)}}else U=function(){lt(O,0)};function ae(H,it){N=lt(function(){H(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(H){switch(D){case 1:case 2:case 3:var it=3;break;default:it=D}var ft=D;D=it;try{return H()}finally{D=ft}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,it){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ft=D;D=H;try{return it()}finally{D=ft}},r.unstable_scheduleCallback=function(H,it,ft){var Pt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Pt+ft:Pt):ft=Pt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ft+C,H={id:A++,callback:it,priorityLevel:H,startTime:ft,expirationTime:C,sortIndex:-1},ft>Pt?(H.sortIndex=ft,e(v,H),i(_)===null&&H===i(v)&&(nt?(at(N),N=-1):nt=!0,ae(gt,ft-Pt))):(H.sortIndex=C,e(_,H),Z||q||(Z=!0,tt||(tt=!0,U()))),H},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(H){var it=D;return function(){var ft=D;D=it;try{return H.apply(this,arguments)}finally{D=ft}}}}(Df)),Df}var fy;function QE(){return fy||(fy=1,Cf.exports=GE()),Cf.exports}var Vf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function FE(){if(dy)return Qe;dy=1;var r=cd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:V==null?null:""+V,children:_,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},Qe.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},Qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},Qe.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,V=g(A,v.crossOrigin),D=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:V,integrity:D,fetchPriority:q}):A==="script"&&s.d.X(_,{crossOrigin:V,integrity:D,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},Qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,V=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:V,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},Qe.requestFormReset=function(_){s.d.r(_)},Qe.unstable_batchedUpdates=function(_,v){return _(v)},Qe.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.0",Qe}var my;function YE(){if(my)return Vf.exports;my=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vf.exports=FE(),Vf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function KE(){if(gy)return Pl;gy=1;var r=QE(),e=cd(),i=YE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),lt=Symbol.for("react.provider"),at=Symbol.for("react.consumer"),st=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case J:return"Profiler";case nt:return"StrictMode";case gt:return"Suspense";case tt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case st:return(t.displayName||"Context")+".Provider";case at:return(t._context.displayName||"Context")+".Consumer";case Et:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var ae=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Pt=[],C=-1;function $(t){return{current:t}}function rt(t){0>C||(t.current=Pt[C],Pt[C]=null,C--)}function W(t,n){C++,Pt[C]=t.current,t.current=n}var mt=$(null),Ct=$(null),Tt=$(null),Ce=$(null);function Zt(t,n){switch(W(Tt,n),W(Ct,t),W(mt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Up(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Up(n),t=Lp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}rt(mt),W(mt,t)}function zn(){rt(mt),rt(Ct),rt(Tt)}function Li(t){t.memoizedState!==null&&W(Ce,t);var n=mt.current,a=Lp(n,t.type);n!==a&&(W(Ct,t),W(mt,a))}function ri(t){Ct.current===t&&(rt(mt),rt(Ct)),Ce.current===t&&(rt(Ce),xl._currentValue=ft)}var wa=Object.prototype.hasOwnProperty,Ca=r.unstable_scheduleCallback,Da=r.unstable_cancelCallback,Vs=r.unstable_shouldYield,co=r.unstable_requestPaint,pn=r.unstable_now,Sc=r.unstable_getCurrentPriorityLevel,Is=r.unstable_ImmediatePriority,_r=r.unstable_UserBlockingPriority,Va=r.unstable_NormalPriority,bc=r.unstable_LowPriority,vr=r.unstable_IdlePriority,Ns=r.log,ho=r.unstable_setDisableYieldValue,re=null,qt=null;function rn(t){if(typeof Ns=="function"&&ho(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(re,t)}catch{}}var He=Math.clz32?Math.clz32:Ia,fo=Math.log,Rc=Math.LN2;function Ia(t){return t>>>=0,t===0?32:31-(fo(t)/Rc|0)|0}var Na=256,xa=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Er(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Vn(l):(y&=E,y!==0?c=Vn(y):a||(a=E&~t,a!==0&&(c=Vn(a))))):(E=l&~f,E!==0?c=Vn(E):y!==0?c=Vn(y):a||(a=l&~t,a!==0&&(c=Vn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Oa(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var t=Na;return Na<<=1,(Na&4194048)===0&&(Na=256),t}function Ms(){var t=xa;return xa<<=1,(xa&62914560)===0&&(xa=4194304),t}function si(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function li(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Us(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-He(a),Y=1<<G;E[G]=0,b[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var k=B[G];k!==null&&(k.lane&=-536870913)}a&=~Y}l!==0&&Pn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Pn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-He(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Ls(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-He(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Tr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pi(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:ey(t.type))}function mo(t,n){var a=it.p;try{return it.p=t,n()}finally{it.p=a}}var Wt=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Wt,de="__reactProps$"+Wt,yn="__reactContainer$"+Wt,zs="__reactEvents$"+Wt,wc="__reactListeners$"+Wt,Bi="__reactHandles$"+Wt,go="__reactResources$"+Wt,Ma="__reactMarker$"+Wt;function ki(t){delete t[Ee],delete t[de],delete t[zs],delete t[wc],delete t[Bi]}function oi(t){var n=t[Ee];if(n)return n;for(var a=t.parentNode;a;){if(n=a[yn]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=kp(t);t!==null;){if(a=t[Ee])return a;t=kp(t)}return n}t=a,a=t.parentNode}return null}function Bn(t){if(t=t[Ee]||t[yn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Xe(t){var n=t[go];return n||(n=t[go]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Ma]=!0}var Ps=new Set,Ar={};function In(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(Ar[t]=n,t=0;t<n.length;t++)Ps.add(n[t])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},Ua={};function _o(t){return wa.call(Ua,t)?!0:wa.call(yo,t)?!1:po.test(t)?Ua[t]=!0:(yo[t]=!0,!1)}function ji(t,n,a){if(_o(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function jn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ue(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var La,vo;function ci(t){if(La===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);La=n&&n[1]||"",vo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+La+t+vo}var Sr=!1;function br(t,n){if(!t||Sr)return"";Sr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var B=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){B=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){B=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Sr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ci(a):""}function Bs(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return br(t.type,!1);case 11:return br(t.type.render,!1);case 1:return br(t.type,!0);case 31:return ci("Activity");default:return""}}function Rr(t){try{var n="";do n+=Bs(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ks(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Cc(t){var n=ks(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function wr(t){t._valueTracker||(t._valueTracker=Cc(t))}function js(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ks(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function za(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dc=/[\n"\\]/g;function me(t){return t.replace(Dc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?qi(t,y,Ze(n)):a!=null?qi(t,y,Ze(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ze(E):t.removeAttribute("name")}function Pa(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ze(a):"",n=n!=null?""+Ze(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function qi(t,n,a){n==="number"&&za(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function hi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ze(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,a){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ze(a):""}function Ba(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ze(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var ka=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||ka.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function qs(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Eo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Eo(t,f,n[f])}function Hs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ic=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cr(t){return Ic.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var fi=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var di=null,mi=null;function Gs(t){var n=Bn(t);if(n&&(t=n.stateNode)){var a=t[de]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[de]||null;if(!c)throw Error(s(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&js(l)}break t;case"textarea":Qt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&hi(t,!!a.multiple,n,!1)}}}var qn=!1;function To(t,n,a){if(qn)return t(n,a);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(di!==null||mi!==null)&&(mu(),di&&(n=di,t=mi,mi=di=null,Gs(n),t)))for(n=0;n<t.length;n++)Gs(t[n])}}function ja(t,n){var a=t.stateNode;if(a===null)return null;var l=a[de]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Nn)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){En=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{En=!1}var Hn=null,Hi=null,gi=null;function Qs(){if(gi)return gi;var t,n=Hi,a=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return gi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qn(){return!0}function Fs(){return!1}function De(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:Fs,this.isPropagationStopped=Fs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dr=De(kt),Ha=A({},kt,{view:0,detail:0}),Ao=De(Ha),Vr,Ir,Fn,Ga=A({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Vr=t.screenX-Fn.screenX,Ir=t.screenY-Fn.screenY):Ir=Vr=0,Fn=t),Vr)},movementY:function(t){return"movementY"in t?t.movementY:Ir}}),Tn=De(Ga),So=A({},Ga,{dataTransfer:0}),Nc=De(So),Qa=A({},Ha,{relatedTarget:0}),Nr=De(Qa),Ys=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),xr=De(Ys),bo=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Or=De(bo),xc=A({},kt,{data:0}),Ks=De(xc),Fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ro={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wo[t])?!!n[t]:!1}function Ya(){return Xs}var Co=A({},Ha,{key:function(t){if(t.key){var n=Fa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ro[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mr=De(Co),Do=A({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zs=De(Do),pi=A({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),Vo=De(pi),Io=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),No=De(Io),xo=A({},Ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ur=De(xo),$e=A({},kt,{newState:0,oldState:0}),Oo=De($e),Mo=[9,13,27,32],Yn=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var m=Nn&&"TextEvent"in window&&!u,p=Nn&&(!Yn||u&&8<u&&11>=u),T=" ",L=!1;function j(t,n){switch(t){case"keyup":return Mo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xt=!1;function Te(t,n){switch(t){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Ot(t,n){if(xt)return t==="compositionend"||!Yn&&j(t,n)?(t=Qs(),gi=Hi=Hn=null,xt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function yi(t,n,a,l){di?mi?mi.push(l):mi=[l]:di=l,n=Eu(n,"onChange"),0<n.length&&(a=new Dr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Le=null,Kn=null;function $s(t){Ip(t,0)}function Uo(t){var n=kn(t);if(js(n))return t}function $d(t,n){if(t==="change")return n}var Jd=!1;if(Nn){var Oc;if(Nn){var Mc="oninput"in document;if(!Mc){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Mc=typeof Wd.oninput=="function"}Oc=Mc}else Oc=!1;Jd=Oc&&(!document.documentMode||9<document.documentMode)}function tm(){Le&&(Le.detachEvent("onpropertychange",em),Kn=Le=null)}function em(t){if(t.propertyName==="value"&&Uo(Kn)){var n=[];yi(n,Kn,t,vn(t)),To($s,n)}}function p0(t,n,a){t==="focusin"?(tm(),Le=n,Kn=a,Le.attachEvent("onpropertychange",em)):t==="focusout"&&tm()}function y0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uo(Kn)}function _0(t,n){if(t==="click")return Uo(n)}function v0(t,n){if(t==="input"||t==="change")return Uo(n)}function E0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:E0;function Js(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!wa.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function nm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function im(t,n){var a=nm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=nm(a)}}function am(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?am(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function rm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=za(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=za(t.document)}return n}function Uc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var T0=Nn&&"documentMode"in document&&11>=document.documentMode,Lr=null,Lc=null,Ws=null,zc=!1;function sm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zc||Lr==null||Lr!==za(l)||(l=Lr,"selectionStart"in l&&Uc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ws&&Js(Ws,l)||(Ws=l,l=Eu(Lc,"onSelect"),0<l.length&&(n=new Dr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Lr)))}function Ka(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var zr={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Pc={},lm={};Nn&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Xa(t){if(Pc[t])return Pc[t];if(!zr[t])return t;var n=zr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in lm)return Pc[t]=n[a];return t}var om=Xa("animationend"),um=Xa("animationiteration"),cm=Xa("animationstart"),A0=Xa("transitionrun"),S0=Xa("transitionstart"),b0=Xa("transitioncancel"),hm=Xa("transitionend"),fm=new Map,Bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bc.push("scrollEnd");function xn(t,n){fm.set(t,n),In(n,[t])}var dm=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var a=dm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Rr(n)},dm.set(t,n),n)}return{value:t,source:n,stack:Rr(n)}}var Sn=[],Pr=0,kc=0;function Lo(){for(var t=Pr,n=kc=Pr=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&mm(a,c,f)}}function zo(t,n,a,l){Sn[Pr++]=t,Sn[Pr++]=n,Sn[Pr++]=a,Sn[Pr++]=l,kc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jc(t,n,a,l){return zo(t,n,a,l),Po(t)}function Br(t,n){return zo(t,null,null,n),Po(t)}function mm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-He(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Po(t){if(50<bl)throw bl=0,Yh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var kr={};function R0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,a,l){return new R0(t,n,a,l)}function qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _i(t,n){var a=t.alternate;return a===null?(a=on(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Bo(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")qc(t)&&(y=1);else if(typeof t=="string")y=CE(t,a,mt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=on(31,a,n,c),t.elementType=R,t.lanes=f,t;case Z:return Za(a.children,c,f,n);case nt:y=8,c|=24;break;case J:return t=on(12,a,n,c|2),t.elementType=J,t.lanes=f,t;case gt:return t=on(13,a,n,c),t.elementType=gt,t.lanes=f,t;case tt:return t=on(19,a,n,c),t.elementType=tt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lt:case st:y=10;break t;case at:y=9;break t;case Et:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=on(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Za(t,n,a,l){return t=on(7,t,l,n),t.lanes=a,t}function Hc(t,n,a){return t=on(6,t,null,n),t.lanes=a,t}function Gc(t,n,a){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var jr=[],qr=0,ko=null,jo=0,bn=[],Rn=0,$a=null,vi=1,Ei="";function Ja(t,n){jr[qr++]=jo,jr[qr++]=ko,ko=t,jo=n}function pm(t,n,a){bn[Rn++]=vi,bn[Rn++]=Ei,bn[Rn++]=$a,$a=t;var l=vi;t=Ei;var c=32-He(l)-1;l&=~(1<<c),a+=1;var f=32-He(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,vi=1<<32-He(n)+c|a<<c|l,Ei=f+t}else vi=1<<f|a<<c|l,Ei=t}function Qc(t){t.return!==null&&(Ja(t,1),pm(t,1,0))}function Fc(t){for(;t===ko;)ko=jr[--qr],jr[qr]=null,jo=jr[--qr],jr[qr]=null;for(;t===$a;)$a=bn[--Rn],bn[Rn]=null,Ei=bn[--Rn],bn[Rn]=null,vi=bn[--Rn],bn[Rn]=null}var Je=null,se=null,Bt=!1,Wa=null,Xn=!1,Yc=Error(s(519));function tr(t){var n=Error(s(418,""));throw nl(An(n,t)),Yc}function ym(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[de]=l,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<wl.length;a++)It(wl[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Pa(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),wr(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Ba(n,l.value,l.defaultValue,l.children),wr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Mp(n.textContent,a)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Tu),n=!0):n=!1,n||tr(t)}function _m(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Je=Je.return}}function tl(t){if(t!==Je)return!1;if(!Bt)return _m(t),Bt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||cf(t.type,t.memoizedProps)),a=!a),a&&se&&tr(t),_m(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){se=Mn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,ra(t.type)?(t=mf,mf=null,se=t):se=n):se=Je?Mn(t.stateNode.nextSibling):null;return!0}function el(){se=Je=null,Bt=!1}function vm(){var t=Wa;return t!==null&&(en===null?en=t:en.push.apply(en,t),Wa=null),t}function nl(t){Wa===null?Wa=[t]:Wa.push(t)}var Kc=$(null),er=null,Ti=null;function Gi(t,n,a){W(Kc,n._currentValue),n._currentValue=a}function Ai(t){t._currentValue=Kc.current,rt(Kc)}function Xc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Zc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Xc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Xc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function il(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;ln(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ce.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}c=c.return}t!==null&&Zc(n,t,a,l),n.flags|=262144}function qo(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function nr(t){er=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return Em(er,t)}function Ho(t,n){return er===null&&nr(t),Em(t,n)}function Em(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ti===null){if(t===null)throw Error(s(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return a}var w0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},C0=r.unstable_scheduleCallback,D0=r.unstable_NormalPriority,Se={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $c(){return{controller:new w0,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&C0(D0,function(){t.controller.abort()})}var rl=null,Jc=0,Hr=0,Gr=null;function V0(t,n){if(rl===null){var a=rl=[];Jc=0,Hr=tf(),Gr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jc++,n.then(Tm,Tm),n}function Tm(){if(--Jc===0&&rl!==null){Gr!==null&&(Gr.status="fulfilled");var t=rl;rl=null,Hr=0,Gr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function I0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Am=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&V0(t,n),Am!==null&&Am(t,n)};var ir=$(null);function Wc(){var t=ir.current;return t!==null?t:$t.pooledCache}function Go(t,n){n===null?W(ir,ir.current):W(ir,n.pool)}function Sm(){var t=Wc();return t===null?null:{parent:Se._currentValue,pool:t}}var sl=Error(s(460)),bm=Error(s(474)),Qo=Error(s(542)),th={then:function(){}};function Rm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fo(){}function wm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Fo,Fo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dm(t),t;default:if(typeof n.status=="string")n.then(Fo,Fo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dm(t),t}throw ll=n,sl}}var ll=null;function Cm(){if(ll===null)throw Error(s(459));var t=ll;return ll=null,t}function Dm(t){if(t===sl||t===Qo)throw Error(s(483))}var Qi=!1;function eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Po(t),mm(t,null,a),n}return zo(t,l,n,a),Po(t)}function ol(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ls(t,a)}}function ih(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ah=!1;function ul(){if(ah){var t=Gr;if(t!==null)throw t}}function cl(t,n,a,l){ah=!1;var c=t.updateQueue;Qi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,G=P=b=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Mt&B)===B:(l&B)===B){B!==0&&B===Hr&&(ah=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=t,pt=E;B=n;var Kt=a;switch(pt.tag){case 1:if(vt=pt.payload,typeof vt=="function"){Y=vt.call(Kt,Y,B);break t}Y=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=pt.payload,B=typeof vt=="function"?vt.call(Kt,Y,B):vt,B==null)break t;Y=A({},Y,B);break t;case 2:Qi=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=k,b=Y):G=G.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ea|=y,t.lanes=y,t.memoizedState=Y}}function Vm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Im(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Vm(a[t],n)}var Qr=$(null),Yo=$(0);function Nm(t,n){t=Vi,W(Yo,t),W(Qr,n),Vi=t|n.baseLanes}function rh(){W(Yo,Vi),W(Qr,Qr.current)}function sh(){Vi=Yo.current,rt(Qr),rt(Yo)}var Ki=0,Rt=null,Ft=null,ge=null,Ko=!1,Fr=!1,ar=!1,Xo=0,hl=0,Yr=null,N0=0;function ue(){throw Error(s(321))}function lh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ln(t[a],n[a]))return!1;return!0}function oh(t,n,a,l,c,f){return Ki=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?mg:gg,ar=!1,f=a(l,c),ar=!1,Fr&&(f=Om(n,a,l,c)),xm(t),f}function xm(t){H.H=eu;var n=Ft!==null&&Ft.next!==null;if(Ki=0,ge=Ft=Rt=null,Ko=!1,hl=0,Yr=null,n)throw Error(s(300));t===null||Ie||(t=t.dependencies,t!==null&&qo(t)&&(Ie=!0))}function Om(t,n,a,l){Rt=t;var c=0;do{if(Fr&&(Yr=null),hl=0,Fr=!1,25<=c)throw Error(s(301));if(c+=1,ge=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=P0,f=n(a,l)}while(Fr);return f}function x0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(Rt.flags|=1024),n}function uh(){var t=Xo!==0;return Xo=0,t}function ch(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function hh(t){if(Ko){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ko=!1}Ki=0,ge=Ft=Rt=null,Fr=!1,hl=Xo=0,Yr=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Rt.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Ft===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=ge===null?Rt.memoizedState:ge.next;if(n!==null)ge=n,Ft=t;else{if(t===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},ge===null?Rt.memoizedState=ge=t:ge=ge.next=t}return ge}function fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Yr===null&&(Yr=[]),t=wm(Yr,t,n),n=Rt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?mg:gg),t}function Zo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===st)return Ge(t)}throw Error(s(438,String(t)))}function dh(t){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=fh(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=x;return n.index++,a}function Si(t,n){return typeof n=="function"?n(t):n}function $o(t){var n=pe();return mh(n,Ft,t)}function mh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Mt&Y)===Y:(Ki&Y)===Y){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Hr&&(G=!0);else if((Ki&B)===B){P=P.next,B===Hr&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,Rt.lanes|=B,ea|=B;Y=P.action,ar&&a(f,Y),f=P.hasEagerState?P.eagerState:a(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,Rt.lanes|=Y,ea|=Y;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!ln(f,t.memoizedState)&&(Ie=!0,G&&(a=Gr,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function gh(t){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);ln(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Mm(t,n,a){var l=Rt,c=pe(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!ln((Ft||c).memoizedState,a);y&&(c.memoizedState=a,Ie=!0),c=c.queue;var E=zm.bind(null,l,c,t);if(dl(2048,8,E,[t]),c.getSnapshot!==n||y||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Kr(9,Jo(),Lm.bind(null,l,c,a,n),null),$t===null)throw Error(s(349));f||(Ki&124)!==0||Um(l,n,a)}return a}function Um(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=fh(),Rt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Lm(t,n,a,l){n.value=a,n.getSnapshot=l,Pm(n)&&Bm(t)}function zm(t,n,a){return a(function(){Pm(n)&&Bm(t)})}function Pm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ln(t,a)}catch{return!0}}function Bm(t){var n=Br(t,2);n!==null&&dn(n,t,2)}function ph(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),ar){rn(!0);try{a()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function km(t,n,a,l){return t.baseState=a,mh(t,Ft,typeof l=="function"?l:Si)}function O0(t,n,a,l,c){if(tu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,jm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function jm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=a(c,l),b=H.S;b!==null&&b(y,E),qm(t,n,E)}catch(P){yh(t,n,P)}finally{H.T=f}}else try{f=a(c,l),qm(t,n,f)}catch(P){yh(t,n,P)}}function qm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Hm(t,n,l)},function(l){return yh(t,n,l)}):Hm(t,n,a)}function Hm(t,n,a){n.status="fulfilled",n.value=a,Gm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,jm(t,a)))}function yh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Gm(n),n=n.next;while(n!==l)}t.action=null}function Gm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Qm(t,n){return n}function Fm(t,n){if(Bt){var a=$t.formState;if(a!==null){t:{var l=Rt;if(Bt){if(se){e:{for(var c=se,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=Mn(c.nextSibling),l=c.data==="F!";break t}}tr(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qm,lastRenderedState:n},a.queue=l,a=hg.bind(null,Rt,l),l.dispatch=a,l=ph(!1),f=Ah.bind(null,Rt,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=O0.bind(null,Rt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Ym(t){var n=pe();return Km(n,Ft,t)}function Km(t,n,a){if(n=mh(t,n,Qm)[0],t=$o(Si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fl(n)}catch(y){throw y===sl?Qo:y}else l=n;n=pe();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,Kr(9,Jo(),M0.bind(null,c,a),null)),[l,f,t]}function M0(t,n){t.action=n}function Xm(t){var n=pe(),a=Ft;if(a!==null)return Km(n,a,t);pe(),n=n.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Kr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=fh(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Jo(){return{destroy:void 0,resource:void 0}}function Zm(){return pe().memoizedState}function Wo(t,n,a,l){var c=We();l=l===void 0?null:l,Rt.flags|=t,c.memoizedState=Kr(1|n,Jo(),a,l)}function dl(t,n,a,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&lh(l,Ft.memoizedState.deps)?c.memoizedState=Kr(n,f,a,l):(Rt.flags|=t,c.memoizedState=Kr(1|n,f,a,l))}function $m(t,n){Wo(8390656,8,t,n)}function Jm(t,n){dl(2048,8,t,n)}function Wm(t,n){return dl(4,2,t,n)}function tg(t,n){return dl(4,4,t,n)}function eg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ng(t,n,a){a=a!=null?a.concat([t]):null,dl(4,4,eg.bind(null,n,t),a)}function _h(){}function ig(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&lh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function ag(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&lh(n,l[1]))return l[0];if(l=t(),ar){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[l,n],l}function vh(t,n,a){return a===void 0||(Ki&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=lp(),Rt.lanes|=t,ea|=t,a)}function rg(t,n,a,l){return ln(a,n)?a:Qr.current!==null?(t=vh(t,a,l),ln(t,n)||(Ie=!0),t):(Ki&42)===0?(Ie=!0,t.memoizedState=a):(t=lp(),Rt.lanes|=t,ea|=t,n)}function sg(t,n,a,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Ah(t,!1,n,a);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=I0(b,l);ml(t,n,G,fn(t))}else ml(t,n,l,fn(t))}catch(Y){ml(t,n,{then:function(){},status:"rejected",reason:Y},fn())}finally{it.p=f,H.T=y}}function U0(){}function Eh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=lg(t).queue;sg(t,c,n,ft,a===null?U0:function(){return og(t),a(l)})}function lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:ft},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function og(t){var n=lg(t).next.queue;ml(t,n,{},fn())}function Th(){return Ge(xl)}function ug(){return pe().memoizedState}function cg(){return pe().memoizedState}function L0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=fn();t=Fi(a);var l=Yi(n,t,a);l!==null&&(dn(l,n,a),ol(l,n,a)),n={cache:$c()},t.payload=n;return}n=n.return}}function z0(t,n,a){var l=fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},tu(t)?fg(n,a):(a=jc(t,n,a,l),a!==null&&(dn(a,t,l),dg(a,n,l)))}function hg(t,n,a){var l=fn();ml(t,n,a,l)}function ml(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(tu(t))fg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,ln(E,y))return zo(t,n,c,0),$t===null&&Lo(),!1}catch{}finally{}if(a=jc(t,n,c,l),a!==null)return dn(a,t,l),dg(a,n,l),!0}return!1}function Ah(t,n,a,l){if(l={lane:2,revertLane:tf(),action:l,hasEagerState:!1,eagerState:null,next:null},tu(t)){if(n)throw Error(s(479))}else n=jc(t,a,l,2),n!==null&&dn(n,t,2)}function tu(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function fg(t,n){Fr=Ko=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function dg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ls(t,a)}}var eu={readContext:Ge,use:Zo,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},mg={readContext:Ge,use:Zo,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:$m,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Wo(4194308,4,eg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Wo(4194308,4,t,n)},useInsertionEffect:function(t,n){Wo(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(ar){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var c=a(n);if(ar){rn(!0);try{a(n)}finally{rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=z0.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=ph(t);var n=t.queue,a=hg.bind(null,Rt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:_h,useDeferredValue:function(t,n){var a=We();return vh(a,t,n)},useTransition:function(){var t=ph(!1);return t=sg.bind(null,Rt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Rt,c=We();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),$t===null)throw Error(s(349));(Mt&124)!==0||Um(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,$m(zm.bind(null,l,f,t),[t]),l.flags|=2048,Kr(9,Jo(),Lm.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=$t.identifierPrefix;if(Bt){var a=Ei,l=vi;a=(l&~(1<<32-He(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Xo++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=N0++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Th,useFormState:Fm,useActionState:Fm,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ah.bind(null,Rt,!0,a),a.dispatch=n,[t,n]},useMemoCache:dh,useCacheRefresh:function(){return We().memoizedState=L0.bind(null,Rt)}},gg={readContext:Ge,use:Zo,useCallback:ig,useContext:Ge,useEffect:Jm,useImperativeHandle:ng,useInsertionEffect:Wm,useLayoutEffect:tg,useMemo:ag,useReducer:$o,useRef:Zm,useState:function(){return $o(Si)},useDebugValue:_h,useDeferredValue:function(t,n){var a=pe();return rg(a,Ft.memoizedState,t,n)},useTransition:function(){var t=$o(Si)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Mm,useId:ug,useHostTransitionStatus:Th,useFormState:Ym,useActionState:Ym,useOptimistic:function(t,n){var a=pe();return km(a,Ft,t,n)},useMemoCache:dh,useCacheRefresh:cg},P0={readContext:Ge,use:Zo,useCallback:ig,useContext:Ge,useEffect:Jm,useImperativeHandle:ng,useInsertionEffect:Wm,useLayoutEffect:tg,useMemo:ag,useReducer:gh,useRef:Zm,useState:function(){return gh(Si)},useDebugValue:_h,useDeferredValue:function(t,n){var a=pe();return Ft===null?vh(a,t,n):rg(a,Ft.memoizedState,t,n)},useTransition:function(){var t=gh(Si)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Mm,useId:ug,useHostTransitionStatus:Th,useFormState:Xm,useActionState:Xm,useOptimistic:function(t,n){var a=pe();return Ft!==null?km(a,Ft,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:dh,useCacheRefresh:cg},Xr=null,gl=0;function nu(t){var n=gl;return gl+=1,Xr===null&&(Xr=[]),wm(Xr,t,n)}function pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function iu(t,n){throw n.$$typeof===V?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function pg(t){var n=t._init;return n(t._payload)}function yg(t){function n(M,I){if(t){var z=M.deletions;z===null?(M.deletions=[I],M.flags|=16):z.push(I)}}function a(M,I){if(!t)return null;for(;I!==null;)n(M,I),I=I.sibling;return null}function l(M){for(var I=new Map;M!==null;)M.key!==null?I.set(M.key,M):I.set(M.index,M),M=M.sibling;return I}function c(M,I){return M=_i(M,I),M.index=0,M.sibling=null,M}function f(M,I,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<I?(M.flags|=67108866,I):z):(M.flags|=67108866,I)):(M.flags|=1048576,I)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,I,z,F){return I===null||I.tag!==6?(I=Hc(z,M.mode,F),I.return=M,I):(I=c(I,z),I.return=M,I)}function b(M,I,z,F){var ct=z.type;return ct===Z?G(M,I,z.props.children,F,z.key):I!==null&&(I.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&pg(ct)===I.type)?(I=c(I,z.props),pl(I,z),I.return=M,I):(I=Bo(z.type,z.key,z.props,null,M.mode,F),pl(I,z),I.return=M,I)}function P(M,I,z,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Gc(z,M.mode,F),I.return=M,I):(I=c(I,z.children||[]),I.return=M,I)}function G(M,I,z,F,ct){return I===null||I.tag!==7?(I=Za(z,M.mode,F,ct),I.return=M,I):(I=c(I,z),I.return=M,I)}function Y(M,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Hc(""+I,M.mode,z),I.return=M,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case D:return z=Bo(I.type,I.key,I.props,null,M.mode,z),pl(z,I),z.return=M,z;case q:return I=Gc(I,M.mode,z),I.return=M,I;case S:var F=I._init;return I=F(I._payload),Y(M,I,z)}if(ae(I)||U(I))return I=Za(I,M.mode,z,null),I.return=M,I;if(typeof I.then=="function")return Y(M,nu(I),z);if(I.$$typeof===st)return Y(M,Ho(M,I),z);iu(M,I)}return null}function B(M,I,z,F){var ct=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ct!==null?null:E(M,I,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return z.key===ct?b(M,I,z,F):null;case q:return z.key===ct?P(M,I,z,F):null;case S:return ct=z._init,z=ct(z._payload),B(M,I,z,F)}if(ae(z)||U(z))return ct!==null?null:G(M,I,z,F,null);if(typeof z.then=="function")return B(M,I,nu(z),F);if(z.$$typeof===st)return B(M,I,Ho(M,z),F);iu(M,z)}return null}function k(M,I,z,F,ct){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(z)||null,E(I,M,""+F,ct);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case D:return M=M.get(F.key===null?z:F.key)||null,b(I,M,F,ct);case q:return M=M.get(F.key===null?z:F.key)||null,P(I,M,F,ct);case S:var Dt=F._init;return F=Dt(F._payload),k(M,I,z,F,ct)}if(ae(F)||U(F))return M=M.get(z)||null,G(I,M,F,ct,null);if(typeof F.then=="function")return k(M,I,z,nu(F),ct);if(F.$$typeof===st)return k(M,I,z,Ho(I,F),ct);iu(I,F)}return null}function vt(M,I,z,F){for(var ct=null,Dt=null,ht=I,yt=I=0,xe=null;ht!==null&&yt<z.length;yt++){ht.index>yt?(xe=ht,ht=null):xe=ht.sibling;var zt=B(M,ht,z[yt],F);if(zt===null){ht===null&&(ht=xe);break}t&&ht&&zt.alternate===null&&n(M,ht),I=f(zt,I,yt),Dt===null?ct=zt:Dt.sibling=zt,Dt=zt,ht=xe}if(yt===z.length)return a(M,ht),Bt&&Ja(M,yt),ct;if(ht===null){for(;yt<z.length;yt++)ht=Y(M,z[yt],F),ht!==null&&(I=f(ht,I,yt),Dt===null?ct=ht:Dt.sibling=ht,Dt=ht);return Bt&&Ja(M,yt),ct}for(ht=l(ht);yt<z.length;yt++)xe=k(ht,M,yt,z[yt],F),xe!==null&&(t&&xe.alternate!==null&&ht.delete(xe.key===null?yt:xe.key),I=f(xe,I,yt),Dt===null?ct=xe:Dt.sibling=xe,Dt=xe);return t&&ht.forEach(function(ca){return n(M,ca)}),Bt&&Ja(M,yt),ct}function pt(M,I,z,F){if(z==null)throw Error(s(151));for(var ct=null,Dt=null,ht=I,yt=I=0,xe=null,zt=z.next();ht!==null&&!zt.done;yt++,zt=z.next()){ht.index>yt?(xe=ht,ht=null):xe=ht.sibling;var ca=B(M,ht,zt.value,F);if(ca===null){ht===null&&(ht=xe);break}t&&ht&&ca.alternate===null&&n(M,ht),I=f(ca,I,yt),Dt===null?ct=ca:Dt.sibling=ca,Dt=ca,ht=xe}if(zt.done)return a(M,ht),Bt&&Ja(M,yt),ct;if(ht===null){for(;!zt.done;yt++,zt=z.next())zt=Y(M,zt.value,F),zt!==null&&(I=f(zt,I,yt),Dt===null?ct=zt:Dt.sibling=zt,Dt=zt);return Bt&&Ja(M,yt),ct}for(ht=l(ht);!zt.done;yt++,zt=z.next())zt=k(ht,M,yt,zt.value,F),zt!==null&&(t&&zt.alternate!==null&&ht.delete(zt.key===null?yt:zt.key),I=f(zt,I,yt),Dt===null?ct=zt:Dt.sibling=zt,Dt=zt);return t&&ht.forEach(function(BE){return n(M,BE)}),Bt&&Ja(M,yt),ct}function Kt(M,I,z,F){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case D:t:{for(var ct=z.key;I!==null;){if(I.key===ct){if(ct=z.type,ct===Z){if(I.tag===7){a(M,I.sibling),F=c(I,z.props.children),F.return=M,M=F;break t}}else if(I.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&pg(ct)===I.type){a(M,I.sibling),F=c(I,z.props),pl(F,z),F.return=M,M=F;break t}a(M,I);break}else n(M,I);I=I.sibling}z.type===Z?(F=Za(z.props.children,M.mode,F,z.key),F.return=M,M=F):(F=Bo(z.type,z.key,z.props,null,M.mode,F),pl(F,z),F.return=M,M=F)}return y(M);case q:t:{for(ct=z.key;I!==null;){if(I.key===ct)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){a(M,I.sibling),F=c(I,z.children||[]),F.return=M,M=F;break t}else{a(M,I);break}else n(M,I);I=I.sibling}F=Gc(z,M.mode,F),F.return=M,M=F}return y(M);case S:return ct=z._init,z=ct(z._payload),Kt(M,I,z,F)}if(ae(z))return vt(M,I,z,F);if(U(z)){if(ct=U(z),typeof ct!="function")throw Error(s(150));return z=ct.call(z),pt(M,I,z,F)}if(typeof z.then=="function")return Kt(M,I,nu(z),F);if(z.$$typeof===st)return Kt(M,I,Ho(M,z),F);iu(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(a(M,I.sibling),F=c(I,z),F.return=M,M=F):(a(M,I),F=Hc(z,M.mode,F),F.return=M,M=F),y(M)):a(M,I)}return function(M,I,z,F){try{gl=0;var ct=Kt(M,I,z,F);return Xr=null,ct}catch(ht){if(ht===sl||ht===Qo)throw ht;var Dt=on(29,ht,null,M.mode);return Dt.lanes=F,Dt.return=M,Dt}finally{}}}var Zr=yg(!0),_g=yg(!1),wn=$(null),Zn=null;function Xi(t){var n=t.alternate;W(be,be.current&1),W(wn,t),Zn===null&&(n===null||Qr.current!==null||n.memoizedState!==null)&&(Zn=t)}function vg(t){if(t.tag===22){if(W(be,be.current),W(wn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else Zi()}function Zi(){W(be,be.current),W(wn,wn.current)}function bi(t){rt(wn),Zn===t&&(Zn=null),rt(be)}var be=$(0);function au(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||df(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Sh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var bh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=fn(),c=Fi(l);c.payload=n,a!=null&&(c.callback=a),n=Yi(t,c,l),n!==null&&(dn(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=fn(),c=Fi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Yi(t,c,l),n!==null&&(dn(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=fn(),l=Fi(a);l.tag=2,n!=null&&(l.callback=n),n=Yi(t,l,a),n!==null&&(dn(n,t,a),ol(n,t,a))}};function Eg(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Js(a,l)||!Js(c,f):!0}function Tg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&bh.enqueueReplaceState(n,n.state,null)}function rr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ag(t){ru(t)}function Sg(t){console.error(t)}function bg(t){ru(t)}function su(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Rg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Rh(t,n,a){return a=Fi(a),a.tag=3,a.payload={element:null},a.callback=function(){su(t,n)},a}function wg(t){return t=Fi(t),t.tag=3,t}function Cg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Rg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Rg(n,a,l),typeof c!="function"&&(na===null?na=new Set([this]):na.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function B0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&il(n,a,c,!0),a=wn.current,a!==null){switch(a.tag){case 13:return Zn===null?Xh():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===th?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),$h(t,l,c)),!1;case 22:return a.flags|=65536,l===th?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),$h(t,l,c)),!1}throw Error(s(435,a.tag))}return $h(t,l,c),Xh(),!1}if(Bt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Yc&&(t=Error(s(422),{cause:l}),nl(An(t,a)))):(l!==Yc&&(n=Error(s(423),{cause:l}),nl(An(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,a),c=Rh(t.stateNode,l,c),ih(t,c),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:l});if(f=An(f,a),Sl===null?Sl=[f]:Sl.push(f),le!==4&&(le=2),n===null)return!0;l=An(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Rh(a.stateNode,l,t),ih(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(na===null||!na.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=wg(c),Cg(c,t,a,l),ih(a,c),!1}a=a.return}while(a!==null);return!1}var Dg=Error(s(461)),Ie=!1;function ze(t,n,a,l){n.child=t===null?_g(n,null,a,l):Zr(n,t.child,a,l)}function Vg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return nr(n),l=oh(t,n,a,y,f,c),E=uh(),t!==null&&!Ie?(ch(t,n,c),Ri(t,n,c)):(Bt&&E&&Qc(n),n.flags|=1,ze(t,n,l,c),n.child)}function Ig(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!qc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ng(t,n,f,l,c)):(t=Bo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Oh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Js,a(y,l)&&t.ref===n.ref)return Ri(t,n,c)}return n.flags|=1,t=_i(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ng(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Js(f,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=f,Oh(t,c))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,Ri(t,n,c)}return wh(t,n,a,l,c)}function xg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Og(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Go(n,f!==null?f.cachePool:null),f!==null?Nm(n,f):rh(),vg(n);else return n.lanes=n.childLanes=536870912,Og(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Go(n,f.cachePool),Nm(n,f),Zi(),n.memoizedState=null):(t!==null&&Go(n,null),rh(),Zi());return ze(t,n,c,a),n.child}function Og(t,n,a,l){var c=Wc();return c=c===null?null:{parent:Se._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Go(n,null),rh(),vg(n),t!==null&&il(t,n,l,!0),null}function lu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function wh(t,n,a,l,c){return nr(n),a=oh(t,n,a,l,void 0,c),l=uh(),t!==null&&!Ie?(ch(t,n,c),Ri(t,n,c)):(Bt&&l&&Qc(n),n.flags|=1,ze(t,n,a,c),n.child)}function Mg(t,n,a,l,c,f){return nr(n),n.updateQueue=null,a=Om(n,l,a,c),xm(t),l=uh(),t!==null&&!Ie?(ch(t,n,f),Ri(t,n,f)):(Bt&&l&&Qc(n),n.flags|=1,ze(t,n,a,f),n.child)}function Ug(t,n,a,l,c){if(nr(n),n.stateNode===null){var f=kr,y=a.contextType;typeof y=="object"&&y!==null&&(f=Ge(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},eh(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Ge(y):kr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Sh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&bh.enqueueReplaceState(f,f.state,null),cl(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=rr(a,E);f.props=b;var P=f.context,G=a.contextType;y=kr,typeof G=="object"&&G!==null&&(y=Ge(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&Tg(n,f,l,y),Qi=!1;var B=n.memoizedState;f.state=B,cl(n,l,f,c),ul(),P=n.memoizedState,E||B!==P||Qi?(typeof Y=="function"&&(Sh(n,a,Y,l),P=n.memoizedState),(b=Qi||Eg(n,a,b,l,B,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,nh(t,n),y=n.memoizedProps,G=rr(a,y),f.props=G,Y=n.pendingProps,B=f.context,P=a.contextType,b=kr,typeof P=="object"&&P!==null&&(b=Ge(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||B!==b)&&Tg(n,f,l,b),Qi=!1,B=n.memoizedState,f.state=B,cl(n,l,f,c),ul();var k=n.memoizedState;y!==Y||B!==k||Qi||t!==null&&t.dependencies!==null&&qo(t.dependencies)?(typeof E=="function"&&(Sh(n,a,E,l),k=n.memoizedState),(G=Qi||Eg(n,a,G,l,B,k,b)||t!==null&&t.dependencies!==null&&qo(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,lu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Zr(n,t.child,null,c),n.child=Zr(n,null,a,c)):ze(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ri(t,n,c),t}function Lg(t,n,a,l){return el(),n.flags|=256,ze(t,n,a,l),n.child}var Ch={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(t){return{baseLanes:t,cachePool:Sm()}}function Vh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Cn),t}function zg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Xi(n):Zi(),Bt){var E=se,b;if(b=E){t:{for(b=E,E=Xn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Mn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:$a!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},b=on(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Je=n,se=null,b=!0):b=!1}b||tr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return df(E)?n.lanes=32:n.lanes=536870912,null;bi(n)}return E=l.children,l=l.fallback,c?(Zi(),c=n.mode,E=ou({mode:"hidden",children:E},c),l=Za(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Dh(a),c.childLanes=Vh(t,y,a),n.memoizedState=Ch,l):(Xi(n),Ih(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Xi(n),n.flags&=-257,n=Nh(t,n,a)):n.memoizedState!==null?(Zi(),n.child=t.child,n.flags|=128,n=null):(Zi(),c=l.fallback,E=n.mode,l=ou({mode:"visible",children:l.children},E),c=Za(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Zr(n,t.child,null,a),l=n.child,l.memoizedState=Dh(a),l.childLanes=Vh(t,y,a),n.memoizedState=Ch,n=c);else if(Xi(n),df(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(s(419)),l.stack="",l.digest=y,nl({value:l,source:null,stack:null}),n=Nh(t,n,a)}else if(Ie||il(t,n,a,!1),y=(a&t.childLanes)!==0,Ie||y){if(y=$t,y!==null&&(l=a&-a,l=(l&42)!==0?1:zi(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Br(t,l),dn(y,t,l),Dg;E.data==="$?"||Xh(),n=Nh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,se=Mn(E.nextSibling),Je=n,Bt=!0,Wa=null,Xn=!1,t!==null&&(bn[Rn++]=vi,bn[Rn++]=Ei,bn[Rn++]=$a,vi=t.id,Ei=t.overflow,$a=n),n=Ih(n,l.children),n.flags|=4096);return n}return c?(Zi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=_i(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=_i(P,c):(c=Za(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Dh(a):(b=E.cachePool,b!==null?(P=Se._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=Sm(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=Vh(t,y,a),n.memoizedState=Ch,l):(Xi(n),a=t.child,t=a.sibling,a=_i(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Ih(t,n){return n=ou({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ou(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Nh(t,n,a){return Zr(n,t.child,null,a),t=Ih(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Pg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Xc(t.return,n,a)}function xh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Bg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,a),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pg(t,a,n);else if(t.tag===19)Pg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(be,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&au(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),xh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&au(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}xh(n,!0,a,null,f);break;case"together":xh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ri(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ea|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(il(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=_i(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=_i(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Oh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&qo(t)))}function k0(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Gi(n,Se,t.memoizedState.cache),el();break;case 27:case 5:Li(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Gi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Xi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?zg(t,n,a):(Xi(n),t=Ri(t,n,a),t!==null?t.sibling:null);Xi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(il(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Bg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,xg(t,n,a);case 24:Gi(n,Se,t.memoizedState.cache)}return Ri(t,n,a)}function kg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Oh(t,a)&&(n.flags&128)===0)return Ie=!1,k0(t,n,a);Ie=(t.flags&131072)!==0}else Ie=!1,Bt&&(n.flags&1048576)!==0&&pm(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")qc(l)?(t=rr(l,t),n.tag=1,n=Ug(null,n,l,t,a)):(n.tag=0,n=wh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Et){n.tag=11,n=Vg(null,n,l,t,a);break t}else if(c===N){n.tag=14,n=Ig(null,n,l,t,a);break t}}throw n=Me(l)||l,Error(s(306,n,""))}}return n;case 0:return wh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=rr(l,n.pendingProps),Ug(t,n,l,c,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,nh(t,n),cl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Gi(n,Se,l),l!==f.cache&&Zc(n,[Se],a,!0),ul(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Lg(t,n,l,a);break t}else if(l!==c){c=An(Error(s(424)),n),nl(c),n=Lg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=Mn(t.firstChild),Je=n,Bt=!0,Wa=null,Xn=!0,a=_g(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(el(),l===c){n=Ri(t,n,a);break t}ze(t,n,l,a)}n=n.child}return n;case 26:return lu(t,n),t===null?(a=Gp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=Au(Tt.current).createElement(a),l[Ee]=n,l[de]=t,Be(l,a,t),oe(l),n.stateNode=l):n.memoizedState=Gp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Li(n),t===null&&Bt&&(l=n.stateNode=jp(n.type,n.pendingProps,Tt.current),Je=n,Xn=!0,c=se,ra(n.type)?(mf=c,se=Mn(l.firstChild)):se=c),ze(t,n,n.pendingProps.children,a),lu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=se)&&(l=mE(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,Je=n,se=Mn(l.firstChild),Xn=!1,c=!0):c=!1),c||tr(n)),Li(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,cf(c,f)?l=null:y!==null&&cf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=oh(t,n,x0,null,null,a),xl._currentValue=c),lu(t,n),ze(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=se)&&(a=gE(a,n.pendingProps,Xn),a!==null?(n.stateNode=a,Je=n,se=null,t=!0):t=!1),t||tr(n)),null;case 13:return zg(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Zr(n,null,l,a):ze(t,n,l,a),n.child;case 11:return Vg(t,n,n.type,n.pendingProps,a);case 7:return ze(t,n,n.pendingProps,a),n.child;case 8:return ze(t,n,n.pendingProps.children,a),n.child;case 12:return ze(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Gi(n,n.type,l.value),ze(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,nr(n),c=Ge(c),l=l(c),n.flags|=1,ze(t,n,l,a),n.child;case 14:return Ig(t,n,n.type,n.pendingProps,a);case 15:return Ng(t,n,n.type,n.pendingProps,a);case 19:return Bg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=ou(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=_i(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return xg(t,n,a);case 24:return nr(n),l=Ge(Se),t===null?(c=Wc(),c===null&&(c=$t,f=$c(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},eh(n),Gi(n,Se,c)):((t.lanes&a)!==0&&(nh(t,n),cl(n,null,null,a),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Gi(n,Se,l)):(l=f.cache,Gi(n,Se,l),l!==c.cache&&Zc(n,[Se],a,!0))),ze(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function wi(t){t.flags|=4}function jg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xp(n)){if(n=wn.current,n!==null&&((Mt&4194048)===Mt?Zn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Zn))throw ll=th,bm;t.flags|=8192}}function uu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ms():536870912,t.lanes|=n,ts|=n)}function yl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function j0(t,n,a){var l=n.pendingProps;switch(Fc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(Se),zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tl(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vm())),ne(n),null;case 26:return a=n.memoizedState,t===null?(wi(n),a!==null?(ne(n),jg(n,a)):(ne(n),n.flags&=-16777217)):a?a!==t.memoizedState?(wi(n),ne(n),jg(n,a)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),ne(n),n.flags&=-16777217),null;case 27:ri(n),a=Tt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=mt.current,tl(n)?ym(n):(t=jp(c,l,a),n.stateNode=t,wi(n))}return ne(n),null;case 5:if(ri(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(t=mt.current,tl(n))ym(n);else{switch(c=Au(Tt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[Ee]=n,t[de]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Be(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Tt.current,tl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Mp(t.nodeValue,a)),t||tr(n)}else t=Au(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Ee]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=vm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),uu(n,n.updateQueue),ne(n),null;case 4:return zn(),t===null&&rf(n.stateNode.containerInfo),ne(n),null;case 10:return Ai(n.type),ne(n),null;case 19:if(rt(be),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)yl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=au(t),f!==null){for(n.flags|=128,yl(c,!1),t=f.updateQueue,n.updateQueue=t,uu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)gm(a,t),a=a.sibling;return W(be,be.current&1|2),n.child}t=t.sibling}c.tail!==null&&pn()>fu&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304)}else{if(!l)if(t=au(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,uu(n,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ne(n),null}else 2*pn()-c.renderingStartTime>fu&&a!==536870912&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=pn(),n.sibling=null,t=be.current,W(be,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return bi(n),sh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&uu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&rt(ir),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ai(Se),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function q0(t,n){switch(Fc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(Se),zn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ri(n),null;case 13:if(bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));el()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return rt(be),null;case 4:return zn(),null;case 10:return Ai(n.type),null;case 22:case 23:return bi(n),sh(),t!==null&&rt(ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(Se),null;case 25:return null;default:return null}}function qg(t,n){switch(Fc(n),n.tag){case 3:Ai(Se),zn();break;case 26:case 27:case 5:ri(n);break;case 4:zn();break;case 13:bi(n);break;case 19:rt(be);break;case 10:Ai(n.type);break;case 22:case 23:bi(n),sh(),t!==null&&rt(ir);break;case 24:Ai(Se)}}function _l(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Xt(n,n.return,E)}}function $i(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=a,P=E;try{P()}catch(G){Xt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function Hg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Im(n,a)}catch(l){Xt(t,t.return,l)}}}function Gg(t,n,a){a.props=rr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Xt(t,n,c)}}function $n(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Xt(t,n,c)}else a.current=null}function Qg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Xt(t,t.return,c)}}function Mh(t,n,a){try{var l=t.stateNode;uE(l,t.type,a,n),l[de]=n}catch(c){Xt(t,t.return,c)}}function Fg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ra(t.type)||t.tag===4}function Uh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Fg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ra(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Tu));else if(l!==4&&(l===27&&ra(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Lh(t,n,a),t=t.sibling;t!==null;)Lh(t,n,a),t=t.sibling}function cu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ra(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(cu(t,n,a),t=t.sibling;t!==null;)cu(t,n,a),t=t.sibling}function Yg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Be(n,l,a),n[Ee]=t,n[de]=a}catch(f){Xt(t,t.return,f)}}var Ci=!1,ce=!1,zh=!1,Kg=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function H0(t,n){if(t=t.containerInfo,of=Du,t=rm(t),Uc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,P=0,G=0,Y=t,B=null;e:for(;;){for(var k;Y!==a||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(k=Y.firstChild)!==null;)B=Y,Y=k;for(;;){if(Y===t)break e;if(B===a&&++P===c&&(E=y),B===f&&++G===l&&(b=y),(k=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=k}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(uf={focusedElem:t,selectionRange:a},Du=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var vt=rr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(vt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Xt(a,a.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)ff(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ff(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}}function Xg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(t,a),l&4&&_l(5,a);break;case 1:if(Ji(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(a,a.return,y)}else{var c=rr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(a,a.return,y)}}l&64&&Hg(a),l&512&&vl(a,a.return);break;case 3:if(Ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Im(t,n)}catch(y){Xt(a,a.return,y)}}break;case 27:n===null&&l&4&&Yg(a);case 26:case 5:Ji(t,a),n===null&&l&4&&Qg(a),l&512&&vl(a,a.return);break;case 12:Ji(t,a);break;case 13:Ji(t,a),l&4&&Jg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=J0.bind(null,a),pE(t,a))));break;case 22:if(l=a.memoizedState!==null||Ci,!l){n=n!==null&&n.memoizedState!==null||ce,c=Ci;var f=ce;Ci=l,(ce=n)&&!f?Wi(t,a,(a.subtreeFlags&8772)!==0):Ji(t,a),Ci=c,ce=f}break;case 30:break;default:Ji(t,a)}}function Zg(t){var n=t.alternate;n!==null&&(t.alternate=null,Zg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ki(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,tn=!1;function Di(t,n,a){for(a=a.child;a!==null;)$g(t,n,a),a=a.sibling}function $g(t,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(re,a)}catch{}switch(a.tag){case 26:ce||$n(a,n),Di(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||$n(a,n);var l=te,c=tn;ra(a.type)&&(te=a.stateNode,tn=!1),Di(t,n,a),Dl(a.stateNode),te=l,tn=c;break;case 5:ce||$n(a,n);case 6:if(l=te,c=tn,te=null,Di(t,n,a),te=l,tn=c,te!==null)if(tn)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(f){Xt(a,n,f)}else try{te.removeChild(a.stateNode)}catch(f){Xt(a,n,f)}break;case 18:te!==null&&(tn?(t=te,Bp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ll(t)):Bp(te,a.stateNode));break;case 4:l=te,c=tn,te=a.stateNode.containerInfo,tn=!0,Di(t,n,a),te=l,tn=c;break;case 0:case 11:case 14:case 15:ce||$i(2,a,n),ce||$i(4,a,n),Di(t,n,a);break;case 1:ce||($n(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Gg(a,n,l)),Di(t,n,a);break;case 21:Di(t,n,a);break;case 22:ce=(l=ce)||a.memoizedState!==null,Di(t,n,a),ce=l;break;default:Di(t,n,a)}}function Jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(a){Xt(n,n.return,a)}}function G0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Kg),n;default:throw Error(s(435,t.tag))}}function Ph(t,n){var a=G0(t);n.forEach(function(l){var c=W0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function un(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ra(E.type)){te=E.stateNode,tn=!1;break t}break;case 5:te=E.stateNode,tn=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(te===null)throw Error(s(160));$g(f,y,c),te=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Wg(n,t),n=n.sibling}var On=null;function Wg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&($i(3,t,t.return),_l(3,t),$i(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(ce||a===null||$n(a,a.return)),l&64&&Ci&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=On;if(un(n,t),cn(t),l&512&&(ce||a===null||$n(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ma]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Be(f,l,a),f[Ee]=t,oe(f),l=f;break t;case"link":var y=Yp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Be(f,l,a),c.head.appendChild(f);break;case"meta":if(y=Yp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Be(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ee]=t,oe(f),l=f}t.stateNode=l}else Kp(c,t.type,t.stateNode);else t.stateNode=Fp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Kp(c,t.type,t.stateNode):Fp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Mh(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(ce||a===null||$n(a,a.return)),a!==null&&l&4&&Mh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(ce||a===null||$n(a,a.return)),t.flags&32){c=t.stateNode;try{_n(c,"")}catch(k){Xt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Mh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(zh=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(k){Xt(t,t.return,k)}}break;case 3:if(Ru=null,c=On,On=Su(n.containerInfo),un(n,t),On=c,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ll(n.containerInfo)}catch(k){Xt(t,t.return,k)}zh&&(zh=!1,tp(t));break;case 4:l=On,On=Su(t.stateNode.containerInfo),un(n,t),cn(t),On=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gh=pn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ph(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,P=Ci,G=ce;if(Ci=P||c,ce=G||b,un(n,t),ce=G,Ci=P,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||Ci||ce||sr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Xt(b,b.return,k)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(k){Xt(b,b.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ph(t,a))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ph(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Fg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Uh(t);cu(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(_n(y,""),a.flags&=-33);var E=Uh(t);cu(t,E,y);break;case 3:case 4:var b=a.stateNode.containerInfo,P=Uh(t);Lh(t,P,b);break;default:throw Error(s(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function tp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(t,n.alternate,n),n=n.sibling}function sr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),sr(n);break;case 1:$n(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Gg(n,n.return,a),sr(n);break;case 27:Dl(n.stateNode);case 26:case 5:$n(n,n.return),sr(n);break;case 22:n.memoizedState===null&&sr(n);break;case 30:sr(n);break;default:sr(n)}t=t.sibling}}function Wi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(c,f,a),_l(4,f);break;case 1:if(Wi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Vm(b[c],E)}catch(P){Xt(l,l.return,P)}}a&&y&64&&Hg(f),vl(f,f.return);break;case 27:Yg(f);case 26:case 5:Wi(c,f,a),a&&l===null&&y&4&&Qg(f),vl(f,f.return);break;case 12:Wi(c,f,a);break;case 13:Wi(c,f,a),a&&y&4&&Jg(c,f);break;case 22:f.memoizedState===null&&Wi(c,f,a),vl(f,f.return);break;case 30:break;default:Wi(c,f,a)}n=n.sibling}}function Bh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function kh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function Jn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ep(t,n,a,l),n=n.sibling}function ep(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,a,l),c&2048&&_l(9,n);break;case 1:Jn(t,n,a,l);break;case 3:Jn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){Jn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Jn(t,n,a,l);break;case 13:Jn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,a,l):El(t,n):f._visibility&2?Jn(t,n,a,l):(f._visibility|=2,$r(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Bh(y,n);break;case 24:Jn(t,n,a,l),c&2048&&kh(n.alternate,n);break;default:Jn(t,n,a,l)}}function $r(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:$r(f,y,E,b,c),_l(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?$r(f,y,E,b,c):El(f,y):(G._visibility|=2,$r(f,y,E,b,c)),c&&P&2048&&Bh(y.alternate,y);break;case 24:$r(f,y,E,b,c),c&&P&2048&&kh(y.alternate,y);break;default:$r(f,y,E,b,c)}n=n.sibling}}function El(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:El(a,l),c&2048&&Bh(l.alternate,l);break;case 24:El(a,l),c&2048&&kh(l.alternate,l);break;default:El(a,l)}n=n.sibling}}var Tl=8192;function Jr(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)np(t),t=t.sibling}function np(t){switch(t.tag){case 26:Jr(t),t.flags&Tl&&t.memoizedState!==null&&VE(On,t.memoizedState,t.memoizedProps);break;case 5:Jr(t);break;case 3:case 4:var n=On;On=Su(t.stateNode.containerInfo),Jr(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Tl,Tl=16777216,Jr(t),Tl=n):Jr(t));break;default:Jr(t)}}function ip(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,rp(l,t)}ip(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ap(t),t=t.sibling}function ap(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hu(t)):Al(t);break;default:Al(t)}}function hu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,rp(l,t)}ip(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$i(8,n,n.return),hu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,hu(n));break;default:hu(n)}t=t.sibling}}function rp(t,n){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:$i(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ne=l;else t:for(a=t;Ne!==null;){l=Ne;var c=l.sibling,f=l.return;if(Zg(l),l===a){Ne=null;break t}if(c!==null){c.return=f,Ne=c;break t}Ne=f}}}var Q0={getCacheForType:function(t){var n=Ge(Se),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},F0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Vt=null,Mt=0,Gt=0,hn=null,ta=!1,Wr=!1,jh=!1,Vi=0,le=0,ea=0,lr=0,qh=0,Cn=0,ts=0,Sl=null,en=null,Hh=!1,Gh=0,fu=1/0,du=null,na=null,Pe=0,ia=null,es=null,ns=0,Qh=0,Fh=null,sp=null,bl=0,Yh=null;function fn(){if((Ht&2)!==0&&Mt!==0)return Mt&-Mt;if(H.T!==null){var t=Hr;return t!==0?t:tf()}return Pi()}function lp(){Cn===0&&(Cn=(Mt&536870912)===0||Bt?Os():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Cn}function dn(t,n,a){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(is(t,0),aa(t,Mt,Cn,!1)),li(t,a),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(lr|=a),le===4&&aa(t,Mt,Cn,!1)),Wn(t))}function op(t,n,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Oa(t,n),c=l?X0(t,n):Zh(t,n,!0),f=l;do{if(c===0){Wr&&!l&&aa(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!Y0(a)){c=Zh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Sl;var b=E.current.memoizedState.isDehydrated;if(b&&(is(E,y).flags|=256),y=Zh(E,y,!1),y!==2){if(jh&&!b){E.errorRecoveryDisabledLanes|=f,lr|=f,c=4;break t}f=en,en=c,f!==null&&(en===null?en=f:en.push.apply(en,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){is(t,0),aa(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:aa(l,n,Cn,!ta);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Gh+300-pn(),10<c)){if(aa(l,n,Cn,!ta),Er(l,0,!0)!==0)break t;l.timeoutHandle=zp(up.bind(null,l,a,en,du,Hh,n,Cn,lr,ts,ta,f,2,-0,0),c);break t}up(l,a,en,du,Hh,n,Cn,lr,ts,ta,f,0,-0,0)}}break}while(!0);Wn(t)}function up(t,n,a,l,c,f,y,E,b,P,G,Y,B,k){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:DE},np(n),Y=IE(),Y!==null)){t.cancelPendingCommit=Y(pp.bind(null,t,n,f,a,l,c,y,E,b,G,1,B,k)),aa(t,f,y,!P);return}pp(t,n,f,a,l,c,y,E,b)}function Y0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function aa(t,n,a,l){n&=~qh,n&=~lr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-He(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&Pn(t,a,n)}function mu(){return(Ht&6)===0?(Rl(0),!1):!0}function Kh(){if(Vt!==null){if(Gt===0)var t=Vt.return;else t=Vt,Ti=er=null,hh(t),Xr=null,gl=0,t=Vt;for(;t!==null;)qg(t.alternate,t),t=t.return;Vt=null}}function is(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,hE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Kh(),$t=t,Vt=a=_i(t.current,null),Mt=n,Gt=0,hn=null,ta=!1,Wr=Oa(t,n),jh=!1,ts=Cn=qh=lr=ea=le=0,en=Sl=null,Hh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-He(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,Lo(),a}function cp(t,n){Rt=null,H.H=eu,n===sl||n===Qo?(n=Cm(),Gt=3):n===bm?(n=Cm(),Gt=4):Gt=n===Dg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Vt===null&&(le=1,su(t,An(n,t.current)))}function hp(){var t=H.H;return H.H=eu,t===null?eu:t}function fp(){var t=H.A;return H.A=Q0,t}function Xh(){le=4,ta||(Mt&4194048)!==Mt&&wn.current!==null||(Wr=!0),(ea&134217727)===0&&(lr&134217727)===0||$t===null||aa($t,Mt,Cn,!1)}function Zh(t,n,a){var l=Ht;Ht|=2;var c=hp(),f=fp();($t!==t||Mt!==n)&&(du=null,is(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&Vt!==null){var E=Vt,b=hn;switch(Gt){case 8:Kh(),y=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var P=Gt;if(Gt=0,hn=null,as(t,E,b,P),a&&Wr){y=0;break t}break;default:P=Gt,Gt=0,hn=null,as(t,E,b,P)}}K0(),y=le;break}catch(G){cp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ti=er=null,Ht=l,H.H=c,H.A=f,Vt===null&&($t=null,Mt=0,Lo()),y}function K0(){for(;Vt!==null;)dp(Vt)}function X0(t,n){var a=Ht;Ht|=2;var l=hp(),c=fp();$t!==t||Mt!==n?(du=null,fu=pn()+500,is(t,n)):Wr=Oa(t,n);t:do try{if(Gt!==0&&Vt!==null){n=Vt;var f=hn;e:switch(Gt){case 1:Gt=0,hn=null,as(t,n,f,1);break;case 2:case 9:if(Rm(f)){Gt=0,hn=null,mp(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Wn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Rm(f)?(Gt=0,hn=null,mp(n)):(Gt=0,hn=null,as(t,n,f,7));break;case 5:var y=null;switch(Vt.tag){case 26:y=Vt.memoizedState;case 5:case 27:var E=Vt;if(!y||Xp(y)){Gt=0,hn=null;var b=E.sibling;if(b!==null)Vt=b;else{var P=E.return;P!==null?(Vt=P,gu(P)):Vt=null}break e}}Gt=0,hn=null,as(t,n,f,5);break;case 6:Gt=0,hn=null,as(t,n,f,6);break;case 8:Kh(),le=6;break t;default:throw Error(s(462))}}Z0();break}catch(G){cp(t,G)}while(!0);return Ti=er=null,H.H=l,H.A=c,Ht=a,Vt!==null?0:($t=null,Mt=0,Lo(),le)}function Z0(){for(;Vt!==null&&!Vs();)dp(Vt)}function dp(t){var n=kg(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?gu(t):Vt=n}function mp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Mg(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Mg(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:hh(n);default:qg(a,n),n=Vt=gm(n,Vi),n=kg(a,n,Vi)}t.memoizedProps=t.pendingProps,n===null?gu(t):Vt=n}function as(t,n,a,l){Ti=er=null,hh(n),Xr=null,gl=0;var c=n.return;try{if(B0(t,c,n,a,Mt)){le=1,su(t,An(a,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;le=1,su(t,An(a,t.current)),Vt=null;return}n.flags&32768?(Bt||l===1?t=!0:Wr||(Mt&536870912)!==0?t=!1:(ta=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),gp(n,t)):gu(n)}function gu(t){var n=t;do{if((n.flags&32768)!==0){gp(n,ta);return}t=n.return;var a=j0(n.alternate,n,Vi);if(a!==null){Vt=a;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);le===0&&(le=5)}function gp(t,n){do{var a=q0(t.alternate,t);if(a!==null){a.flags&=32767,Vt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=a}while(t!==null);le=6,Vt=null}function pp(t,n,a,l,c,f,y,E,b){t.cancelPendingCommit=null;do pu();while(Pe!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=kc,Us(t,a,f,y,E,b),t===$t&&(Vt=$t=null,Mt=0),es=n,ia=t,ns=a,Qh=f,Fh=c,sp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tE(Va,function(){return Tp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=it.p,it.p=2,y=Ht,Ht|=4;try{H0(t,n,a)}finally{Ht=y,it.p=c,H.T=l}}Pe=1,yp(),_p(),vp()}}function yp(){if(Pe===1){Pe=0;var t=ia,n=es,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=it.p;it.p=2;var c=Ht;Ht|=4;try{Wg(n,t);var f=uf,y=rm(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&am(E.ownerDocument.documentElement,E)){if(b!==null&&Uc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var k=B.getSelection(),vt=E.textContent.length,pt=Math.min(b.start,vt),Kt=b.end===void 0?pt:Math.min(b.end,vt);!k.extend&&pt>Kt&&(y=Kt,Kt=pt,pt=y);var M=im(E,pt),I=im(E,Kt);if(M&&I&&(k.rangeCount!==1||k.anchorNode!==M.node||k.anchorOffset!==M.offset||k.focusNode!==I.node||k.focusOffset!==I.offset)){var z=Y.createRange();z.setStart(M.node,M.offset),k.removeAllRanges(),pt>Kt?(k.addRange(z),k.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),k.addRange(z))}}}}for(Y=[],k=E;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var F=Y[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Du=!!of,uf=of=null}finally{Ht=c,it.p=l,H.T=a}}t.current=n,Pe=2}}function _p(){if(Pe===2){Pe=0;var t=ia,n=es,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=it.p;it.p=2;var c=Ht;Ht|=4;try{Xg(t,n.alternate,n)}finally{Ht=c,it.p=l,H.T=a}}Pe=3}}function vp(){if(Pe===4||Pe===3){Pe=0,co();var t=ia,n=es,a=ns,l=sp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,es=ia=null,Ep(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(na=null),Tr(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=it.p,it.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,it.p=c}}(ns&3)!==0&&pu(),Wn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Yh?bl++:(bl=0,Yh=t):bl=0,Rl(0)}}function Ep(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function pu(t){return yp(),_p(),vp(),Tp()}function Tp(){if(Pe!==5)return!1;var t=ia,n=Qh;Qh=0;var a=Tr(ns),l=H.T,c=it.p;try{it.p=32>a?32:a,H.T=null,a=Fh,Fh=null;var f=ia,y=ns;if(Pe=0,es=ia=null,ns=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,ap(f.current),ep(f,f.current,y,a),Ht=E,Rl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{it.p=c,H.T=l,Ep(t,n)}}function Ap(t,n,a){n=An(a,n),n=Rh(t.stateNode,n,2),t=Yi(t,n,2),t!==null&&(li(t,2),Wn(t))}function Xt(t,n,a){if(t.tag===3)Ap(t,t,a);else for(;n!==null;){if(n.tag===3){Ap(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(na===null||!na.has(l))){t=An(a,t),a=wg(2),l=Yi(n,a,2),l!==null&&(Cg(a,l,n,t),li(l,2),Wn(l));break}}n=n.return}}function $h(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new F0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(jh=!0,c.add(a),t=$0.bind(null,t,n,a),n.then(t,t))}function $0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(Mt&a)===a&&(le===4||le===3&&(Mt&62914560)===Mt&&300>pn()-Gh?(Ht&2)===0&&is(t,0):qh|=a,ts===Mt&&(ts=0)),Wn(t)}function Sp(t,n){n===0&&(n=Ms()),t=Br(t,n),t!==null&&(li(t,n),Wn(t))}function J0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Sp(t,a)}function W0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Sp(t,a)}function tE(t,n){return Ca(t,n)}var yu=null,rs=null,Jh=!1,_u=!1,Wh=!1,or=0;function Wn(t){t!==rs&&t.next===null&&(rs===null?yu=rs=t:rs=rs.next=t),_u=!0,Jh||(Jh=!0,nE())}function Rl(t,n){if(!Wh&&_u){Wh=!0;do for(var a=!1,l=yu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-He(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Cp(l,f))}else f=Mt,f=Er(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Oa(l,f)||(a=!0,Cp(l,f));l=l.next}while(a);Wh=!1}}function eE(){bp()}function bp(){_u=Jh=!1;var t=0;or!==0&&(cE()&&(t=or),or=0);for(var n=pn(),a=null,l=yu;l!==null;){var c=l.next,f=Rp(l,n);f===0?(l.next=null,a===null?yu=c:a.next=c,c===null&&(rs=a)):(a=l,(t!==0||(f&3)!==0)&&(_u=!0)),l=c}Rl(t)}function Rp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-He(f),E=1<<y,b=c[y];b===-1?((E&a)===0||(E&l)!==0)&&(c[y]=xs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,a=Mt,a=Er(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Da(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Oa(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Da(l),Tr(a)){case 2:case 8:a=_r;break;case 32:a=Va;break;case 268435456:a=vr;break;default:a=Va}return l=wp.bind(null,t),a=Ca(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Da(l),t.callbackPriority=2,t.callbackNode=null,2}function wp(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(pu()&&t.callbackNode!==a)return null;var l=Mt;return l=Er(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(op(t,l,n),Rp(t,pn()),t.callbackNode!=null&&t.callbackNode===a?wp.bind(null,t):null)}function Cp(t,n){if(pu())return null;op(t,n,!0)}function nE(){fE(function(){(Ht&6)!==0?Ca(Is,eE):bp()})}function tf(){return or===0&&(or=Os()),or}function Dp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cr(""+t)}function Vp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function iE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Dp((c[de]||null).action),y=l.submitter;y&&(n=(n=y[de]||null)?Dp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Dr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(or!==0){var b=y?Vp(c,y):new FormData(c);Eh(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Vp(c,y):new FormData(c),Eh(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var ef=0;ef<Bc.length;ef++){var nf=Bc[ef],aE=nf.toLowerCase(),rE=nf[0].toUpperCase()+nf.slice(1);xn(aE,"on"+rE)}xn(om,"onAnimationEnd"),xn(um,"onAnimationIteration"),xn(cm,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(A0,"onTransitionRun"),xn(S0,"onTransitionStart"),xn(b0,"onTransitionCancel"),xn(hm,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function Ip(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){ru(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){ru(G)}c.currentTarget=null,f=b}}}}function It(t,n){var a=n[zs];a===void 0&&(a=n[zs]=new Set);var l=t+"__bubble";a.has(l)||(Np(n,t,2,!1),a.add(l))}function af(t,n,a){var l=0;n&&(l|=4),Np(a,t,l,n)}var vu="_reactListening"+Math.random().toString(36).slice(2);function rf(t){if(!t[vu]){t[vu]=!0,Ps.forEach(function(a){a!=="selectionchange"&&(sE.has(a)||af(a,!1,t),af(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vu]||(n[vu]=!0,af("selectionchange",!1,n))}}function Np(t,n,a,l){switch(ey(n)){case 2:var c=OE;break;case 8:c=ME;break;default:c=vf}a=c.bind(null,n,a,t),c=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function sf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=oi(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}To(function(){var P=f,G=vn(a),Y=[];t:{var B=fm.get(t);if(B!==void 0){var k=Dr,vt=t;switch(t){case"keypress":if(Gn(a)===0)break t;case"keydown":case"keyup":k=Mr;break;case"focusin":vt="focus",k=Nr;break;case"focusout":vt="blur",k=Nr;break;case"beforeblur":case"afterblur":k=Nr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Vo;break;case om:case um:case cm:k=xr;break;case hm:k=No;break;case"scroll":case"scrollend":k=Ao;break;case"wheel":k=Ur;break;case"copy":case"cut":case"paste":k=Or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Zs;break;case"toggle":case"beforetoggle":k=Oo}var pt=(n&4)!==0,Kt=!pt&&(t==="scroll"||t==="scrollend"),M=pt?B!==null?B+"Capture":null:B;pt=[];for(var I=P,z;I!==null;){var F=I;if(z=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||z===null||M===null||(F=ja(I,M),F!=null&&pt.push(Cl(I,F,z))),Kt)break;I=I.return}0<pt.length&&(B=new k(B,vt,null,a,G),Y.push({event:B,listeners:pt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&a!==fi&&(vt=a.relatedTarget||a.fromElement)&&(oi(vt)||vt[yn]))break t;if((k||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,k?(vt=a.relatedTarget||a.toElement,k=P,vt=vt?oi(vt):null,vt!==null&&(Kt=h(vt),pt=vt.tag,vt!==Kt||pt!==5&&pt!==27&&pt!==6)&&(vt=null)):(k=null,vt=P),k!==vt)){if(pt=Tn,F="onMouseLeave",M="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(pt=Zs,F="onPointerLeave",M="onPointerEnter",I="pointer"),Kt=k==null?B:kn(k),z=vt==null?B:kn(vt),B=new pt(F,I+"leave",k,a,G),B.target=Kt,B.relatedTarget=z,F=null,oi(G)===P&&(pt=new pt(M,I+"enter",vt,a,G),pt.target=z,pt.relatedTarget=Kt,F=pt),Kt=F,k&&vt)e:{for(pt=k,M=vt,I=0,z=pt;z;z=ss(z))I++;for(z=0,F=M;F;F=ss(F))z++;for(;0<I-z;)pt=ss(pt),I--;for(;0<z-I;)M=ss(M),z--;for(;I--;){if(pt===M||M!==null&&pt===M.alternate)break e;pt=ss(pt),M=ss(M)}pt=null}else pt=null;k!==null&&xp(Y,B,k,pt,!1),vt!==null&&Kt!==null&&xp(Y,Kt,vt,pt,!0)}}t:{if(B=P?kn(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var ct=$d;else if(Ae(B))if(Jd)ct=v0;else{ct=y0;var Dt=p0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Hs(P.elementType)&&(ct=$d):ct=_0;if(ct&&(ct=ct(t,P))){yi(Y,ct,a,G);break t}Dt&&Dt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&qi(B,"number",B.value)}switch(Dt=P?kn(P):window,t){case"focusin":(Ae(Dt)||Dt.contentEditable==="true")&&(Lr=Dt,Lc=P,Ws=null);break;case"focusout":Ws=Lc=Lr=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,sm(Y,a,G);break;case"selectionchange":if(T0)break;case"keydown":case"keyup":sm(Y,a,G)}var ht;if(Yn)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else xt?j(t,a)&&(yt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(p&&a.locale!=="ko"&&(xt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&xt&&(ht=Qs()):(Hn=G,Hi="value"in Hn?Hn.value:Hn.textContent,xt=!0)),Dt=Eu(P,yt),0<Dt.length&&(yt=new Ks(yt,t,null,a,G),Y.push({event:yt,listeners:Dt}),ht?yt.data=ht:(ht=et(a),ht!==null&&(yt.data=ht)))),(ht=m?Te(t,a):Ot(t,a))&&(yt=Eu(P,"onBeforeInput"),0<yt.length&&(Dt=new Ks("onBeforeInput","beforeinput",null,a,G),Y.push({event:Dt,listeners:yt}),Dt.data=ht)),iE(Y,t,P,a,G)}Ip(Y,n)})}function Cl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Eu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ja(t,a),c!=null&&l.unshift(Cl(t,c,f)),c=ja(t,n),c!=null&&l.push(Cl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=ja(a,f),P!=null&&y.unshift(Cl(a,P,b))):c||(P=ja(a,f),P!=null&&y.push(Cl(a,P,b)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var lE=/\r\n?/g,oE=/\u0000|\uFFFD/g;function Op(t){return(typeof t=="string"?t:""+t).replace(lE,`
`).replace(oE,"")}function Mp(t,n){return n=Op(n),Op(t)===n}function Tu(){}function Yt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":jn(t,"class",l);break;case"tabIndex":jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,a,l);break;case"style":qs(t,l,f);break;case"data":if(n!=="object"){jn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Cr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Cr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Tu);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Cr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":It("beforetoggle",t),It("toggle",t),ji(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ji(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vc.get(a)||a,ji(t,a,l))}}function lf(t,n,a,l,c,f){switch(a){case"style":qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Tu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ar.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[de]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ji(t,a,l)}}}function Be(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,y,a,null)}}c&&Yt(t,n,"srcSet",a.srcSet,a,null),l&&Yt(t,n,"src",a.src,a,null);return;case"input":It("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(t,n,l,G,a,null)}}Pa(t,f,E,b,P,y,c,!1),wr(t);return;case"select":It("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?hi(t,!!l,n,!1):a!=null&&hi(t,!!l,a,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,y,E,a,null)}Ba(t,l,c,f),wr(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,a,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)It(wl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,P,l,a,null)}return;default:if(Hs(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&lf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(t,n,E,l,a,null))}function uE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,G=null;for(k in a){var Y=a[k];if(a.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(k)||Yt(t,n,k,null,l,Y)}}for(var B in l){var k=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(k!=null||Y!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":G=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==Y&&Yt(t,n,B,k,l,Y)}}sn(t,y,E,b,P,G,f,c);return;case"select":k=y=E=B=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=a[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,a=y,l=k,B!=null?hi(t,!!a,B,!1):!!l!=!!a&&(n!=null?hi(t,!!a,n,!0):hi(t,!!a,a?[]:"",!1));return;case"textarea":k=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Qt(t,B,k);return;case"option":for(var vt in a)if(B=a[vt],a.hasOwnProperty(vt)&&B!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":t.selected=!1;break;default:Yt(t,n,vt,null,l,B)}for(b in l)if(B=l[b],k=a[b],l.hasOwnProperty(b)&&B!==k&&(B!=null||k!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,b,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&Yt(t,n,pt,null,l,B);for(P in l)if(B=l[P],k=a[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Yt(t,n,P,B,l,k)}return;default:if(Hs(n)){for(var Kt in a)B=a[Kt],a.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&lf(t,n,Kt,void 0,l,B);for(G in l)B=l[G],k=a[G],!l.hasOwnProperty(G)||B===k||B===void 0&&k===void 0||lf(t,n,G,B,l,k);return}}for(var M in a)B=a[M],a.hasOwnProperty(M)&&B!=null&&!l.hasOwnProperty(M)&&Yt(t,n,M,null,l,B);for(Y in l)B=l[Y],k=a[Y],!l.hasOwnProperty(Y)||B===k||B==null&&k==null||Yt(t,n,Y,B,l,k)}var of=null,uf=null;function Au(t){return t.nodeType===9?t:t.ownerDocument}function Up(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function cf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hf=null;function cE(){var t=window.event;return t&&t.type==="popstate"?t===hf?!1:(hf=t,!0):(hf=null,!1)}var zp=typeof setTimeout=="function"?setTimeout:void 0,hE=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,fE=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(t){return Pp.resolve(null).then(t).catch(dE)}:zp;function dE(t){setTimeout(function(){throw t})}function ra(t){return t==="head"}function Bp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Dl(y.documentElement),a&2&&Dl(y.body),a&4)for(a=y.head,Dl(a),y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Ma]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ll(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ll(n)}function ff(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ff(a),ki(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function mE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ma])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function gE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function pE(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var mf=null;function kp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function jp(t,n,a){switch(n=Au(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ki(t)}var Dn=new Map,qp=new Set;function Su(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ii=it.d;it.d={f:yE,r:_E,D:vE,C:EE,L:TE,m:AE,X:bE,S:SE,M:RE};function yE(){var t=Ii.f(),n=mu();return t||n}function _E(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?og(n):Ii.r(t)}var ls=typeof document>"u"?null:document;function Hp(t,n,a){var l=ls;if(l&&typeof n=="string"&&n){var c=me(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),qp.has(c)||(qp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Be(n,"link",t),oe(n),l.head.appendChild(n)))}}function vE(t){Ii.D(t),Hp("dns-prefetch",t,null)}function EE(t,n){Ii.C(t,n),Hp("preconnect",t,n)}function TE(t,n,a){Ii.L(t,n,a);var l=ls;if(l&&t&&n){var c='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+me(a.imageSizes)+'"]')):c+='[href="'+me(t)+'"]';var f=c;switch(n){case"style":f=os(t);break;case"script":f=us(t)}Dn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Vl(f))||n==="script"&&l.querySelector(Il(f))||(n=l.createElement("link"),Be(n,"link",t),oe(n),l.head.appendChild(n)))}}function AE(t,n){Ii.m(t,n);var a=ls;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=us(t)}if(!Dn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Dn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}l=a.createElement("link"),Be(l,"link",t),oe(l),a.head.appendChild(l)}}}function SE(t,n,a){Ii.S(t,n,a);var l=ls;if(l&&t){var c=Xe(l).hoistableStyles,f=os(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Vl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(f))&&gf(t,a);var b=y=l.createElement("link");oe(b),Be(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function bE(t,n){Ii.X(t,n);var a=ls;if(a&&t){var l=Xe(a).hoistableScripts,c=us(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=A({src:t,async:!0},n),(n=Dn.get(c))&&pf(t,n),f=a.createElement("script"),oe(f),Be(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function RE(t,n){Ii.M(t,n);var a=ls;if(a&&t){var l=Xe(a).hoistableScripts,c=us(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&pf(t,n),f=a.createElement("script"),oe(f),Be(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Gp(t,n,a,l){var c=(c=Tt.current)?Su(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=os(a.href),a=Xe(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=os(a.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Vl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),f||wE(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=us(a),a=Xe(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function os(t){return'href="'+me(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Qp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function wE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Be(n,"link",a),oe(n),t.head.appendChild(n))}function us(t){return'[src="'+me(t)+'"]'}function Il(t){return"script[async]"+t}function Fp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+me(a.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),Be(l,"style",c),bu(l,a.precedence,t),n.instance=l;case"stylesheet":c=os(a.href);var f=t.querySelector(Vl(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=Qp(a),(c=Dn.get(c))&&gf(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Be(f,"link",l),n.state.loading|=4,bu(f,a.precedence,t),n.instance=f;case"script":return f=us(a.src),(c=t.querySelector(Il(f)))?(n.instance=c,oe(c),c):(l=a,(c=Dn.get(f))&&(l=A({},a),pf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),Be(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bu(l,a.precedence,t));return n.instance}function bu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ru=null;function Yp(t,n,a){if(Ru===null){var l=new Map,c=Ru=new Map;c.set(a,l)}else c=Ru,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Ma]||f[Ee]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Kp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function CE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Nl=null;function DE(){}function VE(t,n,a){if(Nl===null)throw Error(s(475));var l=Nl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=os(a.href),f=t.querySelector(Vl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=wu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,a=Qp(a),(c=Dn.get(c))&&gf(a,c),f=f.createElement("link"),oe(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Be(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=wu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function IE(){if(Nl===null)throw Error(s(475));var t=Nl;return t.stylesheets&&t.count===0&&yf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&yf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function wu(){if(this.count--,this.count===0){if(this.stylesheets)yf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cu=null;function yf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cu=new Map,n.forEach(NE,t),Cu=null,wu.call(t))}function NE(t,n){if(!(n.state.loading&4)){var a=Cu.get(t);if(a)var l=a.get(null);else{a=new Map,Cu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=wu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var xl={$$typeof:st,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function xE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Zp(t,n,a,l,c,f,y,E,b,P,G,Y){return t=new xE(t,n,a,y,E,b,P,Y),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=$c(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},eh(f),t}function $p(t){return t?(t=kr,t):kr}function Jp(t,n,a,l,c,f){c=$p(c),l.context===null?l.context=c:l.pendingContext=c,l=Fi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Yi(t,l,n),a!==null&&(dn(a,t,n),ol(a,t,n))}function Wp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function _f(t,n){Wp(t,n),(t=t.alternate)&&Wp(t,n)}function ty(t){if(t.tag===13){var n=Br(t,67108864);n!==null&&dn(n,t,67108864),_f(t,67108864)}}var Du=!0;function OE(t,n,a,l){var c=H.T;H.T=null;var f=it.p;try{it.p=2,vf(t,n,a,l)}finally{it.p=f,H.T=c}}function ME(t,n,a,l){var c=H.T;H.T=null;var f=it.p;try{it.p=8,vf(t,n,a,l)}finally{it.p=f,H.T=c}}function vf(t,n,a,l){if(Du){var c=Ef(l);if(c===null)sf(t,n,l,Vu,a),ny(t,l);else if(LE(c,t,n,a,l))l.stopPropagation();else if(ny(t,l),n&4&&-1<UE.indexOf(t)){for(;c!==null;){var f=Bn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Vn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-He(y);E.entanglements[1]|=b,y&=~b}Wn(f),(Ht&6)===0&&(fu=pn()+500,Rl(0))}}break;case 13:E=Br(f,2),E!==null&&dn(E,f,2),mu(),_f(f,2)}if(f=Ef(l),f===null&&sf(t,n,l,Vu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else sf(t,n,l,null,a)}}function Ef(t){return t=vn(t),Tf(t)}var Vu=null;function Tf(t){if(Vu=null,t=oi(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vu=t,null}function ey(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sc()){case Is:return 2;case _r:return 8;case Va:case bc:return 32;case vr:return 268435456;default:return 32}default:return 32}}var Af=!1,sa=null,la=null,oa=null,Ol=new Map,Ml=new Map,ua=[],UE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ny(t,n){switch(t){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function Ul(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Bn(n),n!==null&&ty(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function LE(t,n,a,l,c){switch(n){case"focusin":return sa=Ul(sa,t,n,a,l,c),!0;case"dragenter":return la=Ul(la,t,n,a,l,c),!0;case"mouseover":return oa=Ul(oa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ol.set(f,Ul(Ol.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ml.set(f,Ul(Ml.get(f)||null,t,n,a,l,c)),!0}return!1}function iy(t){var n=oi(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,mo(t.priority,function(){if(a.tag===13){var l=fn();l=zi(l);var c=Br(a,l);c!==null&&dn(c,a,l),_f(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Ef(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);fi=l,a.target.dispatchEvent(l),fi=null}else return n=Bn(a),n!==null&&ty(n),t.blockedOn=a,!1;n.shift()}return!0}function ay(t,n,a){Iu(t)&&a.delete(n)}function zE(){Af=!1,sa!==null&&Iu(sa)&&(sa=null),la!==null&&Iu(la)&&(la=null),oa!==null&&Iu(oa)&&(oa=null),Ol.forEach(ay),Ml.forEach(ay)}function Nu(t,n){t.blockedOn===n&&(t.blockedOn=null,Af||(Af=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zE)))}var xu=null;function ry(t){xu!==t&&(xu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xu===t&&(xu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Tf(l||a)===null)continue;break}var f=Bn(a);f!==null&&(t.splice(n,3),n-=3,Eh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Ll(t){function n(b){return Nu(b,t)}sa!==null&&Nu(sa,t),la!==null&&Nu(la,t),oa!==null&&Nu(oa,t),Ol.forEach(n),Ml.forEach(n);for(var a=0;a<ua.length;a++){var l=ua[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ua.length&&(a=ua[0],a.blockedOn===null);)iy(a),a.blockedOn===null&&ua.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[de]||null;if(typeof f=="function")y||ry(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[de]||null)E=y.formAction;else if(Tf(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),ry(a)}}}function Sf(t){this._internalRoot=t}Ou.prototype.render=Sf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=fn();Jp(a,l,t,n,null,null)},Ou.prototype.unmount=Sf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Jp(t.current,2,null,t,null,null),mu(),n[yn]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var n=Pi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ua.length&&n!==0&&n<ua[a].priority;a++);ua.splice(a,0,t),a===0&&iy(t)}};var sy=e.version;if(sy!=="19.1.0")throw Error(s(527,sy,"19.1.0"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var PE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{re=Mu.inject(PE),qt=Mu}catch{}}return Pl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Ag,f=Sg,y=bg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Zp(t,1,!1,null,null,a,l,c,f,y,E,null),t[yn]=n.current,rf(t),new Sf(n)},Pl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=Ag,y=Sg,E=bg,b=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=Zp(t,1,!0,n,a??null,l,c,f,y,E,b,P),n.context=$p(null),a=n.current,l=fn(),l=zi(l),c=Fi(l),c.callback=null,Yi(a,c,l),a=l,n.current.lanes=a,li(n,a),Wn(n),t[yn]=n.current,rf(t),new Ou(n)},Pl.version="19.1.0",Pl}var py;function XE(){if(py)return wf.exports;py=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wf.exports=KE(),wf.exports}var ZE=XE();const $E=I_(ZE);var he=(r=>(r.Bathroom="BATHROOM",r.Meal="MEAL",r))(he||{}),ee=(r=>(r.Pee="PEE",r.Poop="POOP",r.Both="BOTH",r))(ee||{}),ti=(r=>(r.Given="GIVEN",r.Stolen="STOLEN",r))(ti||{}),Ni=(r=>(r.Small="SMALL",r.Normal="NORMAL",r.Huge="HUGE",r.Sick="SICK",r))(Ni||{});const JE=r=>r.toISOString().split("T")[0],WE=r=>{const e=r.getHours().toString().padStart(2,"0"),i=r.getMinutes().toString().padStart(2,"0");return`${e}:${i}`},tT=({onSaveEntry:r,editingEntry:e,onCancelEdit:i})=>{const[s,o]=Re.useState(he.Bathroom),[h,d]=Re.useState(ee.Pee),[g,_]=Re.useState(Ni.Normal),[v,A]=Re.useState(""),[V,D]=Re.useState(""),[q,Z]=Re.useState(""),[nt,J]=Re.useState(ti.Given),[lt,at]=Re.useState("Kibble");Re.useEffect(()=>{e?(o(e.type),e.type===he.Bathroom?(d(e.activity||ee.Pee),_(e.poopSubtype||Ni.Normal),A(""),J(ti.Given),at("Kibble")):e.type===he.Meal&&(A(e.notes||""),J(e.mealSubtype||ti.Given),at(e.foodType||"Kibble"),d(ee.Pee),_(Ni.Normal)),D(JE(e.timestamp)),Z(WE(e.timestamp))):(o(he.Bathroom),d(ee.Pee),_(Ni.Normal),A(""),D(""),Z(""),J(ti.Given),at("Kibble"))},[e]);const st=tt=>{o(tt),tt===he.Bathroom?(A(""),J(ti.Given),at("Kibble"),_(Ni.Normal)):(d(ee.Pee),_(Ni.Normal))},Et=tt=>{d(tt),tt===ee.Pee&&_(Ni.Normal)},gt=tt=>{tt.preventDefault();const N={type:s};if(s===he.Bathroom?(N.activity=h,(h===ee.Poop||h===ee.Both)&&(N.poopSubtype=g)):s===he.Meal&&(N.mealSubtype=nt,N.foodType=lt.trim()===""?"Kibble":lt.trim(),N.notes=v.trim()),e&&V&&q){const[S,R]=q.split(":").map(Number),x=new Date(V);x.setHours(S),x.setMinutes(R),x.setSeconds(e.timestamp.getSeconds()),x.setMilliseconds(e.timestamp.getMilliseconds()),N.timestamp=x}r(N,e?e.id:void 0)};return Q.jsxs("form",{onSubmit:gt,className:"bg-white/80 backdrop-blur-md shadow-xl rounded-xl p-6 space-y-6",children:[Q.jsx("h2",{id:"form-heading",className:"text-2xl font-semibold text-slate-700 mb-1 text-center",children:e?"Edit Activity":"Log New Activity"}),e&&Q.jsxs("fieldset",{className:"border border-slate-300 p-4 rounded-md",children:[Q.jsx("legend",{className:"text-md font-semibold text-slate-600 px-2",children:"Log Time"}),Q.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"editDate",className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),Q.jsx("input",{type:"date",id:"editDate",value:V,onChange:tt=>D(tt.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-shadow","aria-label":"Edit date",required:!0})]}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"editTime",className:"block text-sm font-medium text-slate-700 mb-1",children:"Time"}),Q.jsx("input",{type:"time",id:"editTime",value:q,onChange:tt=>Z(tt.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-shadow","aria-label":"Edit time",required:!0})]})]}),Q.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Original: ",e.timestamp.toLocaleString()]})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-lg font-semibold text-slate-700 mb-2",children:"Activity Type"}),Q.jsx("div",{className:"flex space-x-3",children:Object.values(he).map(tt=>Q.jsxs("label",{className:"flex-1",children:[Q.jsx("input",{type:"radio",name:"entryType",value:tt,checked:s===tt,onChange:()=>st(tt),className:"sr-only peer","aria-label":`Activity type ${tt.toLowerCase()}`}),Q.jsx("div",{className:"px-4 py-3 bg-white border-2 border-slate-300 rounded-lg text-center text-slate-600 cursor-pointer peer-checked:border-sky-500 peer-checked:text-sky-600 peer-checked:font-semibold hover:bg-slate-50 transition-colors",children:tt===he.Bathroom?"🚽 Bathroom":"🍲 Meal"})]},tt))})]}),s===he.Bathroom&&Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-lg font-semibold text-slate-700 mb-2",children:"Bathroom Details"}),Q.jsx("div",{className:"grid grid-cols-3 gap-3",children:Object.values(ee).map(tt=>Q.jsxs("label",{children:[Q.jsx("input",{type:"radio",name:"bathroomActivity",value:tt,checked:h===tt,onChange:()=>Et(tt),className:"sr-only peer","aria-label":`Bathroom activity ${tt.toLowerCase()}`}),Q.jsx("div",{className:"px-3 py-3 bg-white border-2 border-slate-300 rounded-lg text-center text-slate-600 cursor-pointer peer-checked:border-sky-500 peer-checked:text-sky-600 peer-checked:font-semibold hover:bg-slate-50 transition-colors",children:tt===ee.Pee?"💧 Pee":tt===ee.Poop?"💩 Poop":"💧💩 Both"})]},tt))})]}),(h===ee.Poop||h===ee.Both)&&Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-lg font-semibold text-slate-700 mb-2",children:"Poop Type"}),Q.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.values(Ni).map(tt=>Q.jsxs("label",{children:[Q.jsx("input",{type:"radio",name:"poopSubtype",value:tt,checked:g===tt,onChange:()=>_(tt),className:"sr-only peer","aria-label":`Poop subtype ${tt.toLowerCase()}`}),Q.jsx("div",{className:"px-3 py-3 bg-white border-2 border-slate-300 rounded-lg text-center text-slate-600 cursor-pointer peer-checked:border-amber-500 peer-checked:text-amber-600 peer-checked:font-semibold hover:bg-slate-50 transition-colors",children:tt.charAt(0)+tt.slice(1).toLowerCase()})]},tt))})]})]}),s===he.Meal&&Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-lg font-semibold text-slate-700 mb-2",children:"Meal Type"}),Q.jsx("div",{className:"flex space-x-3",children:Object.values(ti).map(tt=>Q.jsxs("label",{className:"flex-1",children:[Q.jsx("input",{type:"radio",name:"mealSubtype",value:tt,checked:nt===tt,onChange:()=>J(tt),className:"sr-only peer","aria-label":`Meal subtype ${tt.toLowerCase()}`}),Q.jsx("div",{className:"px-4 py-3 bg-white border-2 border-slate-300 rounded-lg text-center text-slate-600 cursor-pointer peer-checked:border-sky-500 peer-checked:text-sky-600 peer-checked:font-semibold hover:bg-slate-50 transition-colors",children:tt===ti.Given?"Given":"Stolen"})]},tt))})]}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"foodType",className:"block text-lg font-semibold text-slate-700 mb-2",children:"Food Type"}),Q.jsx("input",{type:"text",id:"foodType",value:lt,onChange:tt=>at(tt.target.value),placeholder:"e.g., Kibble (default)",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-shadow","aria-label":"Food Type"})]}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"mealNotes",className:"block text-lg font-semibold text-slate-700 mb-2",children:"Additional Meal Notes (optional)"}),Q.jsx("textarea",{id:"mealNotes",value:v,onChange:tt=>A(tt.target.value),placeholder:"e.g., 1 cup, ate slowly",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-shadow",rows:2,"aria-label":"Additional Meal Notes"})]})]}),Q.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row sm:gap-3",children:[Q.jsx("button",{type:"submit",className:"w-full sm:flex-1 bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition-colors text-lg shadow-md hover:shadow-lg","aria-live":"polite",children:e?"Update Activity":"Log Activity"}),e&&Q.jsx("button",{type:"button",onClick:i,className:"w-full mt-3 sm:mt-0 sm:flex-1 bg-slate-200 hover:bg-slate-300 text-slate-700 font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition-colors text-lg",children:"Cancel"})]})]})},eT=({type:r,activity:e})=>r===he.Meal?Q.jsx("span",{className:"text-3xl mr-3",role:"img","aria-label":"Meal",children:"🍲"}):r===he.Bathroom?e===ee.Pee?Q.jsx("span",{className:"text-3xl mr-3",role:"img","aria-label":"Pee",children:"💧"}):e===ee.Poop?Q.jsx("span",{className:"text-3xl mr-3",role:"img","aria-label":"Poop",children:"💩"}):e===ee.Both?Q.jsx("span",{className:"text-3xl mr-3",role:"img","aria-label":"Pee and Poop",children:"💧💩"}):Q.jsx("span",{className:"text-3xl mr-3",role:"img","aria-label":"Bathroom",children:"🚽"}):null,nT=({entry:r})=>{if(r.type===he.Meal){let e="Meal";return r.mealSubtype?(e+=` (${r.mealSubtype===ti.Given?"Given":"Stolen"}`,r.foodType&&(e+=`: ${r.foodType}`),e+=")"):r.foodType&&(e+=` (${r.foodType})`),Q.jsx("span",{className:"font-semibold text-emerald-700",children:e})}if(r.type===he.Bathroom){let e="",i="text-blue-700";return r.activity===ee.Pee?(e="Pee Break",i="text-sky-700"):r.activity===ee.Poop?(e="Poop Break",i="text-orange-700",r.poopSubtype&&(e+=` (${r.poopSubtype.charAt(0)+r.poopSubtype.slice(1).toLowerCase()})`)):r.activity===ee.Both?(e="Pee & Poop Break",i="text-purple-700",r.poopSubtype&&(e+=` (Poop: ${r.poopSubtype.charAt(0)+r.poopSubtype.slice(1).toLowerCase()})`)):e="Bathroom Break",Q.jsx("span",{className:`font-semibold ${i}`,children:e})}return null},iT=({entry:r,onEdit:e,onDelete:i})=>{const s=r.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),o=r.timestamp.toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"});return Q.jsxs("div",{className:"bg-white/90 backdrop-blur-md shadow-lg rounded-xl p-5 flex items-start space-x-4 border border-slate-200 hover:shadow-xl transition-shadow",children:[Q.jsx(eT,{type:r.type,activity:r.activity}),Q.jsxs("div",{className:"flex-grow",children:[Q.jsxs("div",{className:"flex justify-between items-start mb-1",children:[Q.jsx("h3",{className:"text-xl",children:Q.jsx(nT,{entry:r})}),Q.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[Q.jsxs("p",{className:"text-sm text-slate-500 text-right",children:[o," at ",s]}),Q.jsx("button",{onClick:e,className:"text-slate-500 hover:text-sky-600 transition-colors p-1 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-300","aria-label":"Edit entry",children:Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Q.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),Q.jsx("button",{onClick:i,className:"text-slate-500 hover:text-red-600 transition-colors p-1 rounded-md focus:outline-none focus:ring-2 focus:ring-red-300","aria-label":"Delete entry",children:Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Q.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),r.type===he.Meal&&r.notes&&Q.jsxs("p",{className:"text-slate-600 text-sm italic",children:["Notes: ",r.notes]}),r.type===he.Bathroom&&!r.activity&&Q.jsx("p",{className:"text-slate-600 text-sm",children:"General bathroom break."})]})]})},aT=({entries:r,onEditEntry:e,onDeleteEntry:i,isLoading:s})=>!s&&r.length===0?Q.jsxs("div",{className:"bg-white/80 backdrop-blur-md shadow-xl rounded-xl p-8 text-center text-slate-500",children:[Q.jsx("p",{className:"text-xl mb-2",children:"🐾 No activities logged yet."}),Q.jsx("p",{children:"Use the form above to add your dog's first activity!"})]}):Q.jsxs("section",{className:"space-y-4",children:[Q.jsx("h2",{className:"text-3xl font-semibold text-slate-700 mb-6 text-center",children:"Activity Log"}),r.map(o=>Q.jsx(iT,{entry:o,onEdit:()=>e(o),onDelete:()=>i(o.id)},o.id))]}),rT=()=>{};var yy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},sT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},x_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,v=_?r[o+2]:0,A=h>>2,V=(h&3)<<4|g>>4;let D=(g&15)<<2|v>>6,q=v&63;_||(q=64,d||(D=64)),s.push(i[A],i[V],i[D],i[q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(N_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):sT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const V=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||v==null||V==null)throw new lT;const D=h<<2|g>>4;if(s.push(D),v!==64){const q=g<<4&240|v>>2;if(s.push(q),V!==64){const Z=v<<6&192|V;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class lT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oT=function(r){const e=N_(r);return x_.encodeByteArray(e,!0)},Yu=function(r){return oT(r).replace(/\./g,"")},uT=function(r){try{return x_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=()=>cT().__FIREBASE_DEFAULTS__,fT=()=>{if(typeof process>"u"||typeof yy>"u")return;const r=yy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},dT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&uT(r[1]);return e&&JSON.parse(e)},hd=()=>{try{return rT()||hT()||fT()||dT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mT=r=>{var e,i;return(i=(e=hd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},gT=r=>{const e=mT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},O_=()=>{var r;return(r=hd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(r){return r.endsWith(".cloudworkstations.dev")}async function yT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Yu(JSON.stringify(i)),Yu(JSON.stringify(d)),""].join(".")}const Hl={};function vT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?r.emulator.push(e):r.prod.push(e);return r}function ET(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let _y=!1;function TT(r,e){if(typeof window>"u"||typeof document>"u"||!fd(window.location.host)||Hl[r]===e||Hl[r]||_y)return;Hl[r]=e;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",h=vT().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,q){D.setAttribute("width","24"),D.setAttribute("id",q),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function v(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{_y=!0,d()},D}function A(D,q){D.setAttribute("id",q),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function V(){const D=ET(s),q=i("text"),Z=document.getElementById(q)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),lt=i("preprendIcon"),at=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const st=D.element;g(st),A(J,nt);const Et=v();_(at,lt),st.append(at,Z,J,Et),document.body.appendChild(st)}h?(Z.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",V):V()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ST(){var r;const e=(r=hd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bT(){return!ST()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RT(){try{return typeof indexedDB=="object"}catch{return!1}}function wT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="FirebaseError";class Ss extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=CT,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M_.prototype.create)}}class M_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?DT(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ss(o,g,s)}}function DT(r,e){return r.replace(VT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const VT=/\{\$([^}]+)}/g;function Ku(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(vy(h)&&vy(d)){if(!Ku(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function vy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(r){return r&&r._delegate?r._delegate:r}class Kl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new pT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xT(e))try{this.getOrInitializeService({instanceIdentifier:cr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cr){return this.instances.has(e)}getOptions(e=cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=cr){return this.component?this.component.multipleInstances?e:cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NT(r){return r===cr?void 0:r}function xT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new IT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const MT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},UT=Lt.INFO,LT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},zT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=LT[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U_{constructor(e){this.name=e,this._logLevel=UT,this._logHandler=zT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const PT=(r,e)=>e.some(i=>r instanceof i);let Ey,Ty;function BT(){return Ey||(Ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kT(){return Ty||(Ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L_=new WeakMap,Pf=new WeakMap,z_=new WeakMap,If=new WeakMap,dd=new WeakMap;function jT(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(da(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&L_.set(i,r)}).catch(()=>{}),dd.set(e,r),e}function qT(r){if(Pf.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Pf.set(r,e)}let Bf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Pf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||z_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return da(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function HT(r){Bf=r(Bf)}function GT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Nf(this),e,...i);return z_.set(s,e.sort?e.sort():[e]),da(s)}:kT().includes(r)?function(...e){return r.apply(Nf(this),e),da(L_.get(this))}:function(...e){return da(r.apply(Nf(this),e))}}function QT(r){return typeof r=="function"?GT(r):(r instanceof IDBTransaction&&qT(r),PT(r,BT())?new Proxy(r,Bf):r)}function da(r){if(r instanceof IDBRequest)return jT(r);if(If.has(r))return If.get(r);const e=QT(r);return e!==r&&(If.set(r,e),dd.set(e,r)),e}const Nf=r=>dd.get(r);function FT(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=da(d);return s&&d.addEventListener("upgradeneeded",_=>{s(da(d.result),_.oldVersion,_.newVersion,da(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const YT=["get","getKey","getAll","getAllKeys","count"],KT=["put","add","delete","clear"],xf=new Map;function Ay(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=KT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||YT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return xf.set(e,h),h}HT(r=>({...r,get:(e,i,s)=>Ay(e,i)||r.get(e,i,s),has:(e,i)=>!!Ay(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ZT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function ZT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kf="@firebase/app",Sy="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new U_("@firebase/app"),$T="@firebase/app-compat",JT="@firebase/analytics-compat",WT="@firebase/analytics",t1="@firebase/app-check-compat",e1="@firebase/app-check",n1="@firebase/auth",i1="@firebase/auth-compat",a1="@firebase/database",r1="@firebase/data-connect",s1="@firebase/database-compat",l1="@firebase/functions",o1="@firebase/functions-compat",u1="@firebase/installations",c1="@firebase/installations-compat",h1="@firebase/messaging",f1="@firebase/messaging-compat",d1="@firebase/performance",m1="@firebase/performance-compat",g1="@firebase/remote-config",p1="@firebase/remote-config-compat",y1="@firebase/storage",_1="@firebase/storage-compat",v1="@firebase/firestore",E1="@firebase/ai",T1="@firebase/firestore-compat",A1="firebase",S1="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="[DEFAULT]",b1={[kf]:"fire-core",[$T]:"fire-core-compat",[WT]:"fire-analytics",[JT]:"fire-analytics-compat",[e1]:"fire-app-check",[t1]:"fire-app-check-compat",[n1]:"fire-auth",[i1]:"fire-auth-compat",[a1]:"fire-rtdb",[r1]:"fire-data-connect",[s1]:"fire-rtdb-compat",[l1]:"fire-fn",[o1]:"fire-fn-compat",[u1]:"fire-iid",[c1]:"fire-iid-compat",[h1]:"fire-fcm",[f1]:"fire-fcm-compat",[d1]:"fire-perf",[m1]:"fire-perf-compat",[g1]:"fire-rc",[p1]:"fire-rc-compat",[y1]:"fire-gcs",[_1]:"fire-gcs-compat",[v1]:"fire-fst",[T1]:"fire-fst-compat",[E1]:"fire-vertex","fire-js":"fire-js",[A1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Map,R1=new Map,qf=new Map;function by(r,e){try{r.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Zu(r){const e=r.name;if(qf.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;qf.set(e,r);for(const i of Xu.values())by(i,r);for(const i of R1.values())by(i,r);return!0}function w1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function C1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ma=new M_("app","Firebase",D1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ma.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=S1;function Hf(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jf,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw ma.create("bad-app-name",{appName:String(o)});if(i||(i=O_()),!i)throw ma.create("no-options");const h=Xu.get(o);if(h){if(Ku(i,h.options)&&Ku(s,h.config))return h;throw ma.create("duplicate-app",{appName:o})}const d=new OT(o);for(const _ of qf.values())d.addComponent(_);const g=new V1(i,s,d);return Xu.set(o,g),g}function N1(r=jf){const e=Xu.get(r);if(!e&&r===jf&&O_())return Hf();if(!e)throw ma.create("no-app",{appName:r});return e}function ms(r,e,i){var s;let o=(s=b1[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(g.join(" "));return}Zu(new Kl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="firebase-heartbeat-database",O1=1,Xl="firebase-heartbeat-store";let Of=null;function P_(){return Of||(Of=FT(x1,O1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ma.create("idb-open",{originalErrorMessage:r.message})})),Of}async function M1(r){try{const i=(await P_()).transaction(Xl),s=await i.objectStore(Xl).get(B_(r));return await i.done,s}catch(e){if(e instanceof Ss)Oi.warn(e.message);else{const i=ma.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(i.message)}}}async function Ry(r,e){try{const s=(await P_()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,B_(r)),await s.done}catch(i){if(i instanceof Ss)Oi.warn(i.message);else{const s=ma.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Oi.warn(s.message)}}}function B_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=1024,L1=30;class z1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new B1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=wy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>L1){const d=k1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Oi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=wy(),{heartbeatsToSend:s,unsentEntries:o}=P1(this._heartbeatsCache.heartbeats),h=Yu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Oi.warn(i),""}}}function wy(){return new Date().toISOString().substring(0,10)}function P1(r,e=U1){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Cy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Cy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class B1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RT()?wT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await M1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ry(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ry(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Cy(r){return Yu(JSON.stringify({version:2,heartbeats:r})).length}function k1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(r){Zu(new Kl("platform-logger",e=>new XT(e),"PRIVATE")),Zu(new Kl("heartbeat",e=>new z1(e),"PRIVATE")),ms(kf,Sy,r),ms(kf,Sy,"esm2017"),ms("fire-js","")}j1("");var q1="firebase",H1="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(q1,H1,"app");var Dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ga,k_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function R(){}R.prototype=S.prototype,N.D=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(x,O,U){for(var w=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)w[Me-2]=arguments[Me];return S.prototype[O].apply(x,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,R){R||(R=0);var x=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)x[O]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(O=0;16>O;++O)x[O]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],O=N.g[2];var U=N.g[3],w=S+(U^R&(O^U))+x[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=U+(O^S&(R^O))+x[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(R^U&(S^R))+x[2]+606105819&4294967295,O=U+(w<<17&4294967295|w>>>15),w=R+(S^O&(U^S))+x[3]+3250441966&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(U^R&(O^U))+x[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(O^S&(R^O))+x[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(R^U&(S^R))+x[6]+2821735955&4294967295,O=U+(w<<17&4294967295|w>>>15),w=R+(S^O&(U^S))+x[7]+4249261313&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(U^R&(O^U))+x[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(O^S&(R^O))+x[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(R^U&(S^R))+x[10]+4294925233&4294967295,O=U+(w<<17&4294967295|w>>>15),w=R+(S^O&(U^S))+x[11]+2304563134&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(U^R&(O^U))+x[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(O^S&(R^O))+x[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(R^U&(S^R))+x[14]+2792965006&4294967295,O=U+(w<<17&4294967295|w>>>15),w=R+(S^O&(U^S))+x[15]+1236535329&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(O^U&(R^O))+x[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^O&(S^R))+x[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(U^S))+x[11]+643717713&4294967295,O=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(O^U))+x[0]+3921069994&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(O^U&(R^O))+x[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^O&(S^R))+x[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(U^S))+x[15]+3634488961&4294967295,O=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(O^U))+x[4]+3889429448&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(O^U&(R^O))+x[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^O&(S^R))+x[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(U^S))+x[3]+4107603335&4294967295,O=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(O^U))+x[8]+1163531501&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(O^U&(R^O))+x[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^O&(S^R))+x[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(U^S))+x[7]+1735328473&4294967295,O=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(O^U))+x[12]+2368359562&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(R^O^U)+x[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^O)+x[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^R)+x[11]+1839030562&4294967295,O=U+(w<<16&4294967295|w>>>16),w=R+(O^U^S)+x[14]+4259657740&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(R^O^U)+x[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^O)+x[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^R)+x[7]+4139469664&4294967295,O=U+(w<<16&4294967295|w>>>16),w=R+(O^U^S)+x[10]+3200236656&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(R^O^U)+x[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^O)+x[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^R)+x[3]+3572445317&4294967295,O=U+(w<<16&4294967295|w>>>16),w=R+(O^U^S)+x[6]+76029189&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(R^O^U)+x[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^O)+x[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^R)+x[15]+530742520&4294967295,O=U+(w<<16&4294967295|w>>>16),w=R+(O^U^S)+x[2]+3299628645&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(O^(R|~U))+x[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~O))+x[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~R))+x[14]+2878612391&4294967295,O=U+(w<<15&4294967295|w>>>17),w=R+(U^(O|~S))+x[5]+4237533241&4294967295,R=O+(w<<21&4294967295|w>>>11),w=S+(O^(R|~U))+x[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~O))+x[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~R))+x[10]+4293915773&4294967295,O=U+(w<<15&4294967295|w>>>17),w=R+(U^(O|~S))+x[1]+2240044497&4294967295,R=O+(w<<21&4294967295|w>>>11),w=S+(O^(R|~U))+x[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~O))+x[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~R))+x[6]+2734768916&4294967295,O=U+(w<<15&4294967295|w>>>17),w=R+(U^(O|~S))+x[13]+1309151649&4294967295,R=O+(w<<21&4294967295|w>>>11),w=S+(O^(R|~U))+x[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~O))+x[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~R))+x[2]+718787259&4294967295,O=U+(w<<15&4294967295|w>>>17),w=R+(U^(O|~S))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var R=S-this.blockSize,x=this.B,O=this.h,U=0;U<S;){if(O==0)for(;U<=R;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(x[O++]=N.charCodeAt(U++),O==this.blockSize){o(this,x),O=0;break}}else for(;U<S;)if(x[O++]=N[U++],O==this.blockSize){o(this,x),O=0;break}}this.h=O,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var R=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=R&255,R/=256;for(this.u(N),N=Array(16),S=R=0;4>S;++S)for(var x=0;32>x;x+=8)N[R++]=this.g[S]>>>x&255;return N};function h(N,S){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function d(N,S){this.h=S;for(var R=[],x=!0,O=N.length-1;0<=O;O--){var U=N[O]|0;x&&U==S||(R[O]=U,x=!1)}this.g=R}var g={};function _(N){return-128<=N&&128>N?h(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return V;if(0>N)return J(v(-N));for(var S=[],R=1,x=0;N>=R;x++)S[x]=N/R|0,R*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return J(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),x=V,O=0;O<N.length;O+=8){var U=Math.min(8,N.length-O),w=parseInt(N.substring(O,O+U),S);8>U?(U=v(Math.pow(S,U)),x=x.j(U).add(v(w))):(x=x.j(R),x=x.add(v(w)))}return x}var V=_(0),D=_(1),q=_(16777216);r=d.prototype,r.m=function(){if(nt(this))return-J(this).m();for(var N=0,S=1,R=0;R<this.g.length;R++){var x=this.i(R);N+=(0<=x?x:4294967296+x)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(nt(this))return"-"+J(this).toString(N);for(var S=v(Math.pow(N,6)),R=this,x="";;){var O=Et(R,S).g;R=lt(R,O.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=O,Z(R))return U+x;for(;6>U.length;)U="0"+U;x=U+x}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function nt(N){return N.h==-1}r.l=function(N){return N=lt(this,N),nt(N)?-1:Z(N)?0:1};function J(N){for(var S=N.g.length,R=[],x=0;x<S;x++)R[x]=~N.g[x];return new d(R,~N.h).add(D)}r.abs=function(){return nt(this)?J(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],x=0,O=0;O<=S;O++){var U=x+(this.i(O)&65535)+(N.i(O)&65535),w=(U>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);x=w>>>16,U&=65535,w&=65535,R[O]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function lt(N,S){return N.add(J(S))}r.j=function(N){if(Z(this)||Z(N))return V;if(nt(this))return nt(N)?J(this).j(J(N)):J(J(this).j(N));if(nt(N))return J(this.j(J(N)));if(0>this.l(q)&&0>N.l(q))return v(this.m()*N.m());for(var S=this.g.length+N.g.length,R=[],x=0;x<2*S;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var O=0;O<N.g.length;O++){var U=this.i(x)>>>16,w=this.i(x)&65535,Me=N.i(O)>>>16,ae=N.i(O)&65535;R[2*x+2*O]+=w*ae,at(R,2*x+2*O),R[2*x+2*O+1]+=U*ae,at(R,2*x+2*O+1),R[2*x+2*O+1]+=w*Me,at(R,2*x+2*O+1),R[2*x+2*O+2]+=U*Me,at(R,2*x+2*O+2)}for(x=0;x<S;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=S;x<2*S;x++)R[x]=0;return new d(R,0)};function at(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function st(N,S){this.g=N,this.h=S}function Et(N,S){if(Z(S))throw Error("division by zero");if(Z(N))return new st(V,V);if(nt(N))return S=Et(J(N),S),new st(J(S.g),J(S.h));if(nt(S))return S=Et(N,J(S)),new st(J(S.g),S.h);if(30<N.g.length){if(nt(N)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=D,x=S;0>=x.l(N);)R=gt(R),x=gt(x);var O=tt(R,1),U=tt(x,1);for(x=tt(x,2),R=tt(R,2);!Z(x);){var w=U.add(x);0>=w.l(N)&&(O=O.add(R),U=w),x=tt(x,1),R=tt(R,1)}return S=lt(N,O.j(S)),new st(O,S)}for(O=V;0<=N.l(S);){for(R=Math.max(1,Math.floor(N.m()/S.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),U=v(R),w=U.j(S);nt(w)||0<w.l(N);)R-=x,U=v(R),w=U.j(S);Z(U)&&(U=D),O=O.add(U),N=lt(N,w)}return new st(O,N)}r.A=function(N){return Et(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)&N.i(x);return new d(R,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)|N.i(x);return new d(R,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)^N.i(x);return new d(R,this.h^N.h)};function gt(N){for(var S=N.g.length+1,R=[],x=0;x<S;x++)R[x]=N.i(x)<<1|N.i(x-1)>>>31;return new d(R,N.h)}function tt(N,S){var R=S>>5;S%=32;for(var x=N.g.length-R,O=[],U=0;U<x;U++)O[U]=0<S?N.i(U+R)>>>S|N.i(U+R+1)<<32-S:N.i(U+R);return new d(O,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,k_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,ga=d}).apply(typeof Dy<"u"?Dy:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j_,Bl,q_,ju,Gf,H_,G_,Q_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var j=p++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function V(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function D(u,m,p){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:V,D.apply(null,arguments)}function q(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,j){for(var et=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)et[xt-2]=arguments[xt];return m.prototype[L].apply(T,et)}}function nt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=u.length||0,j=T.length||0;u.length=L+j;for(let et=0;et<j;et++)u[L+et]=T[et]}else u.push(T)}}class lt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function at(u){return/^[\s\xa0]*$/.test(u)}function st(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Et(u){return Et[" "](u),u}Et[" "]=function(){};var gt=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function tt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function N(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let j=0;j<R.length;j++)p=R[j],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function O(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,p){const T=ae.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ae=new lt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ft=!1,Pt=new Me,C=()=>{const u=g.Promise.resolve(void 0);it=()=>{u.then($)}};var $=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){U(p)}var m=ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ft=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Ct(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(gt){t:{try{Et(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}Z(Ct,W);var Tt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function zn(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Li(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ri(u){this.src=u,this.g={},this.h=0}ri.prototype.add=function(u,m,p,T,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var et=Ca(u,m,T,L);return-1<et?(m=u[et],p||(m.fa=!1)):(m=new zn(m,this.src,j,!!T,L),m.fa=p,u.push(m)),m};function wa(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(T,L,1),j&&(Li(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Ca(u,m,p,T){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return L}return-1}var Da="closure_lm_"+(1e6*Math.random()|0),Vs={};function co(u,m,p,T,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)co(u,m[j],p,T,L);return null}return p=ho(p),u&&u[Ce]?u.K(m,p,v(T)?!!T.capture:!1,L):pn(u,m,p,!1,T,L)}function pn(u,m,p,T,L,j){if(!m)throw Error("Invalid event type");var et=v(L)?!!L.capture:!!L,xt=vr(u);if(xt||(u[Da]=xt=new ri(u)),p=xt.add(m,p,T,et,j),p.proxy)return p;if(T=Sc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)mt||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Va(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Sc(){function u(p){return m.call(u.src,u.listener,p)}const m=bc;return u}function Is(u,m,p,T,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)Is(u,m[j],p,T,L);else T=v(T)?!!T.capture:!!T,p=ho(p),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],p=Ca(j,p,T,L),-1<p&&(Li(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=vr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ca(m,p,T,L)),(p=-1<u?m[u]:null)&&_r(p))}function _r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])wa(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Va(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=vr(m))?(wa(p,u),p.h==0&&(p.src=null,m[Da]=null)):Li(u)}}}function Va(u){return u in Vs?Vs[u]:Vs[u]="on"+u}function bc(u,m){if(u.da)u=!0;else{m=new Ct(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&_r(u),u=p.call(T,m)}return u}function vr(u){return u=u[Da],u instanceof ri?u:null}var Ns="__closure_events_fn_"+(1e9*Math.random()>>>0);function ho(u){return typeof u=="function"?u:(u[Ns]||(u[Ns]=function(m){return u.handleEvent(m)}),u[Ns])}function re(){rt.call(this),this.i=new ri(this),this.M=this,this.F=null}Z(re,rt),re.prototype[Ce]=!0,re.prototype.removeEventListener=function(u,m,p,T){Is(this,u,m,p,T)};function qt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var L=m;m=new W(T,u),x(m,L)}if(L=!0,p)for(var j=p.length-1;0<=j;j--){var et=m.g=p[j];L=rn(et,T,!0,m)&&L}if(et=m.g=u,L=rn(et,T,!0,m)&&L,L=rn(et,T,!1,m)&&L,p)for(j=0;j<p.length;j++)et=m.g=p[j],L=rn(et,T,!1,m)&&L}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Li(p[T]);delete u.g[m],u.h--}}this.F=null},re.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},re.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function rn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var et=m[j];if(et&&!et.da&&et.capture==p){var xt=et.listener,Te=et.ha||et.src;et.fa&&wa(u.i,et),L=xt.call(Te,T)!==!1&&L}}return L&&!T.defaultPrevented}function He(u,m,p){if(typeof u=="function")p&&(u=D(u,p));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function fo(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,fo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Rc extends rt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(u){rt.call(this),this.h=u,this.g={}}Z(Ia,rt);var Na=[];function xa(u){tt(u.g,function(m,p){this.g.hasOwnProperty(p)&&_r(m)},u),u.g={}}Ia.prototype.N=function(){Ia.aa.N.call(this),xa(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=g.JSON.stringify,Er=g.JSON.parse,Oa=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function xs(){}xs.prototype.h=null;function Os(u){return u.h||(u.h=u.i())}function Ms(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){W.call(this,"d")}Z(li,W);function Us(){W.call(this,"c")}Z(Us,W);var Pn={},Ls=null;function zi(){return Ls=Ls||new re}Pn.La="serverreachability";function Tr(u){W.call(this,Pn.La,u)}Z(Tr,W);function Pi(u){const m=zi();qt(m,new Tr(m))}Pn.STAT_EVENT="statevent";function mo(u,m){W.call(this,Pn.STAT_EVENT,u),this.stat=m}Z(mo,W);function Wt(u){const m=zi();qt(m,new mo(m,u))}Pn.Ma="timingevent";function Ee(u,m){W.call(this,Pn.Ma,u),this.size=m}Z(Ee,W);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function zs(u,m,p,T,L,j){u.info(function(){if(u.g)if(j)for(var et="",xt=j.split("&"),Te=0;Te<xt.length;Te++){var Ot=xt[Te].split("=");if(1<Ot.length){var Ve=Ot[0];Ot=Ot[1];var Ae=Ve.split("_");et=2<=Ae.length&&Ae[1]=="type"?et+(Ve+"="+Ot+"&"):et+(Ve+"=redacted&")}}else et=null;else et=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+et})}function wc(u,m,p,T,L,j,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+j+" "+et})}function Bi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ma(u,p)+(T?" "+T:"")})}function go(u,m){u.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function Ma(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var et=1;et<L.length;et++)L[et]=""}}}}return Vn(p)}catch{return m}}var ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function kn(){}Z(kn,xs),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},Bn=new kn;function Xe(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var Ps={},Ar={};function In(u,m,p){u.L=1,u.v=Ba(sn(m)),u.m=p,u.P=!0,ui(u,null)}function ui(u,m){u.F=Date.now(),Ua(u),u.A=sn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Gs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new oe,u.g=No(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Rc(D(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Na[0]=L.toString()),L=Na);for(var j=0;j<L.length;j++){var et=co(p,L[j],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Pi(),zs(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=Tn(this.g);var m=this.g.Ba();const yi=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||So(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=yi?Pi(3):Pi(2)),ji(this);var p=this.g.Z();this.X=p;e:if(po(this)){var T=So(this.g);u="";var L=T.length,j=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),jn(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=p==200,wc(this.i,this.u,this.A,this.l,this.R,Ae,p),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Te=this.g;if((xt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!at(xt)){var Ot=xt;break e}}Ot=null}if(p=Ot)Bi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,La(this,p);else{this.o=!1,this.s=3,Wt(12),Ue(this),jn(this);break t}}if(this.P){p=!0;let Le;for(;!this.J&&this.C<et.length;)if(Le=yo(this,et),Le==Ar){Ae==4&&(this.s=4,Wt(14),p=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==Ps){this.s=4,Wt(15),Bi(this.i,this.l,et,"[Invalid Chunk]"),p=!1;break}else Bi(this.i,this.l,Le,null),La(this,Le);if(po(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||et.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)Bi(this.i,this.l,et,"[Invalid Chunked Response]"),Ue(this),jn(this);else if(0<et.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),Ya(Ve),Ve.M=!0,Wt(11))}}else Bi(this.i,this.l,et,null),La(this,et);Ae==4&&Ue(this),this.o&&!this.J&&(Ae==4?Do(this.j,this):(this.o=!1,Ua(this)))}else Nc(this.g),p==400&&0<et.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Ue(this),jn(this)}}}catch{}finally{}};function po(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function yo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Ar:(p=Number(m.substring(p,T)),isNaN(p)?Ps:(T+=1,T+p>m.length?Ar:(m=m.slice(T,T+p),u.C=T+p,m)))}Xe.prototype.cancel=function(){this.J=!0,Ue(this)};function Ua(u){u.S=Date.now()+u.I,_o(u,u.I)}function _o(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(D(u.ba,u),m)}function ji(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(go(this.i,this.A),this.L!=2&&(Pi(),Wt(17)),Ue(this),this.s=2,jn(this)):_o(this,this.S-u)};function jn(u){u.j.G==0||u.J||Do(u.j,u)}function Ue(u){ji(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,xa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function La(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Bs(p.h,u))){if(!u.K&&Bs(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Mr(p),xr(p);else break t;Xs(p),Wt(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=de(D(p.Za,p),6e3));if(1>=br(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else pi(p,11)}else if((u.K||p.g==u)&&Mr(p),!at(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Ot=L[m];if(p.T=Ot[0],Ot=Ot[1],p.G==2)if(Ot[0]=="c"){p.K=Ot[1],p.ia=Ot[2];const Ve=Ot[3];Ve!=null&&(p.la=Ve,p.j.info("VER="+p.la));const Ae=Ot[4];Ae!=null&&(p.Aa=Ae,p.j.info("SVER="+p.Aa));const yi=Ot[5];yi!=null&&typeof yi=="number"&&0<yi&&(T=1.5*yi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Le=u.g;if(Le){const Kn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var j=T.h;j.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Rr(j,j.h),j.h=null))}if(T.D){const $s=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(T.ya=$s,Qt(T.I,T.D,$s))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var et=u;if(T.qa=Io(T,T.J?T.ia:null,T.W),et.K){Ze(T.h,et);var xt=et,Te=T.L;Te&&(xt.I=Te),xt.B&&(ji(xt),Ua(xt)),T.g=et}else wo(T);0<p.i.length&&Or(p)}else Ot[0]!="stop"&&Ot[0]!="close"||pi(p,7);else p.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?pi(p,7):Ys(p):Ot[0]!="noop"&&p.l&&p.l.ta(Ot),p.v=0)}}Pi(4)}catch{}}var vo=class{constructor(u,m){this.g=u,this.map=m}};function ci(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function br(u){return u.h?1:u.g?u.g.size:0}function Bs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Rr(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ci.prototype.cancel=function(){if(this.i=ks(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ks(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return nt(u.i)}function Cc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function wr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function js(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=wr(u),T=Cc(u),L=T.length,j=0;j<L;j++)m.call(void 0,T[j],p&&p[j],u)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var j=u[p].substring(0,T);L=u[p].substring(T+1)}else j=u[p];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Pa(this,u.j),this.o=u.o,this.g=u.g,qi(this,u.s),this.l=u.l;var m=u.i,p=new fi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),hi(this,p),this.m=u.m}else u&&(m=String(u).match(za))?(this.h=!1,Pa(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),qi(this,m[4]),this.l=_n(m[5]||"",!0),hi(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ka(m,qs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ka(m,qs,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(ka(p,p.charAt(0)=="/"?Vc:Hs,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",ka(p,Cr)),u.join("")};function sn(u){return new me(u)}function Pa(u,m,p){u.j=p?_n(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function hi(u,m,p){m instanceof fi?(u.i=m,To(u.i,u.h)):(p||(m=ka(m,Ic)),u.i=new fi(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function Ba(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ka(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Eo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Eo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qs=/[#\/\?@]/g,Hs=/[#\?:]/g,Vc=/[#\?]/g,Ic=/[#\?@]/g,Cr=/#/g;function fi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Dc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=fi.prototype,r.add=function(u,m){vn(this),this.i=null,u=qn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function di(u,m){vn(u),m=qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function mi(u,m){return vn(u),m=qn(u,m),u.g.has(m)}r.forEach=function(u,m){vn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},r.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let j=0;j<L.length;j++)p.push(m[T])}return p},r.V=function(u){vn(this);let m=[];if(typeof u=="string")mi(this,u)&&(m=m.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return vn(this),this.i=null,u=qn(this,u),mi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Gs(u,m,p){di(u,m),0<p.length&&(u.i=null,u.g.set(qn(u,m),nt(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const j=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var L=j;et[T]!==""&&(L+="="+encodeURIComponent(String(et[T]))),u.push(L)}}return this.i=u.join("&")};function qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function To(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(di(this,T),Gs(this,L,p))},u)),u.j=m}function ja(u,m){const p=new yn;if(g.Image){const T=new Image;T.onload=q(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=q(En,p,"TestLoadImage: error",!1,m,T),T.onabort=q(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=q(En,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Nn(u,m){const p=new yn,T=new AbortController,L=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(p,"TestPingServer: error",!1,m)})}function En(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function qa(){this.g=new Oa}function Hn(u,m,p){const T=p||"";try{js(u,function(L,j){let et=L;v(L)&&(et=Vn(L)),m.push(T+j+"="+encodeURIComponent(et))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Hi(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(Hi,xs),Hi.prototype.g=function(){return new gi(this.l,this.j)},Hi.prototype.i=function(u){return function(){return u}}({});function gi(u,m){re.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(gi,re),r=gi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Qn(this),this.readyState==3&&Qs(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},r.Qa=function(u){this.g&&(this.response=u,Gn(this))},r.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fs(u){let m="";return tt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Fs(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function kt(u){re.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(kt,re);var Dr=/^https?$/i,Ha=["POST","PUT"];r=kt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?Os(this.o):Os(Bn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Ao(this,j);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ha,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,et]of p)this.g.setRequestHeader(j,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ga(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Ao(this,j)}};function Ao(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Vr(u),Fn(u)}function Vr(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Fn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),kt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ir(this):this.bb())},r.bb=function(){Ir(this)};function Ir(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)He(u.Ea,0,u);else if(qt(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=et===0){var L=String(u.D).match(za)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Dr.test(L?L.toLowerCase():"")}p=T}if(p)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var j=2<Tn(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Vr(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){Ga(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Ga(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Er(m)}};function So(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Nc(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(at(u[T]))continue;var p=O(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[L]||[];m[L]=j,j.push(p)}N(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Nr(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,u),this.cb=Qa("retryDelaySeedMs",1e4,u),this.Wa=Qa("forwardChannelMaxRetries",2,u),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(u&&u.concurrentRequestLimit),this.Da=new qa,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Nr.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,T){Wt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Io(this,null,this.W),Or(this)};function Ys(u){if(bo(u),u.G==3){var m=u.U++,p=sn(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Fa(u,p),m=new Xe(u,u.j,m),m.L=2,m.v=Ba(sn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=No(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ua(m)}Vo(u)}function xr(u){u.g&&(Ya(u),u.g.cancel(),u.g=null)}function bo(u){xr(u),u.u&&(g.clearTimeout(u.u),u.u=null),Mr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Or(u){if(!Sr(u.h)&&!u.s){u.s=!0;var m=u.Ga;it||C(),ft||(it(),ft=!0),Pt.add(m,u),u.B=0}}function xc(u,m){return br(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(D(u.Ga,u,m),Zs(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Xe(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),x(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Ro(this,L,m),p=sn(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),Fa(this,p),j&&(this.O?m="headers="+encodeURIComponent(String(Fs(j)))+"&"+m:this.m&&De(p,this.m,j)),Rr(this.h,L),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),L.T=!0,In(L,p,null)):In(L,p,m),this.G=2}}else this.G==3&&(u?Ks(this,u):this.i.length==0||Sr(this.h)||Ks(this))};function Ks(u,m){var p;m?p=m.l:p=u.U++;const T=sn(u.I);Qt(T,"SID",u.K),Qt(T,"RID",p),Qt(T,"AID",u.T),Fa(u,T),u.m&&u.o&&De(T,u.m,u.o),p=new Xe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ro(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Rr(u.h,p),In(p,T,m)}function Fa(u,m){u.H&&tt(u.H,function(p,T){Qt(m,T,p)}),u.l&&js({},function(p,T){Qt(m,T,p)})}function Ro(u,m,p){p=Math.min(u.i.length,p);var T=u.l?D(u.l.Na,u.l,u):null;t:{var L=u.i;let j=-1;for(;;){const et=["count="+p];j==-1?0<p?(j=L[0].g,et.push("ofs="+j)):j=0:et.push("ofs="+j);let xt=!0;for(let Te=0;Te<p;Te++){let Ot=L[Te].g;const Ve=L[Te].map;if(Ot-=j,0>Ot)j=Math.max(0,L[Te].g-100),xt=!1;else try{Hn(Ve,et,"req"+Ot+"_")}catch{T&&T(Ve)}}if(xt){T=et.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function wo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;it||C(),ft||(it(),ft=!0),Pt.add(m,u),u.v=0}}function Xs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(D(u.Fa,u),Zs(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Co(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),xr(this),Co(this))};function Ya(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Co(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),Fa(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Ba(sn(m)),p.m=null,p.P=!0,ui(p,u)}r.Za=function(){this.C!=null&&(this.C=null,xr(this),Xs(this),Wt(19))};function Mr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Do(u,m){var p=null;if(u.g==m){Mr(u),Ya(u),u.g=null;var T=2}else if(Bs(u.h,m))p=m.D,Ze(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=zi(),qt(T,new Ee(T,p)),Or(u)}else wo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&xc(u,m)||T==2&&Xs(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function Zs(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var p=D(u.fb,u),T=u.Xa;const L=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Pa(T,"https"),Ba(T),L?ja(T.toString(),p):Nn(T.toString(),p)}else Wt(2);u.G=0,u.l&&u.l.sa(m),Vo(u),bo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Vo(u){if(u.G=0,u.ka=[],u.l){const m=ks(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function Io(u,m,p){var T=p instanceof me?sn(p):new me(p);if(T.g!="")m&&(T.g=m+"."+T.g),qi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new me(null);T&&Pa(j,T),m&&(j.g=m),L&&qi(j,L),p&&(j.l=p),T=j}return p=u.D,m=u.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",u.la),Fa(u,T),T}function No(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Hi({eb:p})):new kt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}r=xo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ur(){}Ur.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){re.call(this),this.g=new Nr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!at(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!at(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}Z($e,re),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ys(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Vn(u),u=p);m.i.push(new vo(m.Ya++,u)),m.G==3&&Or(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ys(this.g),delete this.g,$e.aa.N.call(this)};function Oo(u){li.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(Oo,li);function Mo(){Us.call(this),this.status=1}Z(Mo,Us);function Yn(u){this.g=u}Z(Yn,xo),Yn.prototype.ua=function(){qt(this.g,"a")},Yn.prototype.ta=function(u){qt(this.g,new Oo(u))},Yn.prototype.sa=function(u){qt(this.g,new Mo)},Yn.prototype.ra=function(){qt(this.g,"b")},Ur.prototype.createWebChannel=Ur.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,Q_=function(){return new Ur},G_=function(){return zi()},H_=Pn,Gf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ki.NO_ERROR=0,ki.TIMEOUT=8,ki.HTTP_ERROR=6,ju=ki,oi.COMPLETE="complete",q_=oi,Ms.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",re.prototype.listen=re.prototype.K,Bl=Ms,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,j_=kt}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const Vy="@firebase/firestore",Iy="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new U_("@firebase/firestore");function cs(){return fr.logLevel}function ot(r,...e){if(fr.logLevel<=Lt.DEBUG){const i=e.map(md);fr.debug(`Firestore (${bs}): ${r}`,...i)}}function Mi(r,...e){if(fr.logLevel<=Lt.ERROR){const i=e.map(md);fr.error(`Firestore (${bs}): ${r}`,...i)}}function ps(r,...e){if(fr.logLevel<=Lt.WARN){const i=e.map(md);fr.warn(`Firestore (${bs}): ${r}`,...i)}}function md(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,F_(r,s,i)}function F_(r,e,i){let s=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Mi(s),new Error(s)}function jt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||F_(e,o,s)}function St(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class Q1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class F1{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new pa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new pa,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new pa)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new Y_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class Y1{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K1{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new Y1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ny{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,C1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0,3512);const s=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ny(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ny(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Z1(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function wt(r,e){return r<e?-1:r>e?1:0}function Qf(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return wt(s,o);{const h=K_(),d=$1(h.encode(xy(r,i)),h.encode(xy(e,i)));return d!==0?d:wt(s,o)}}i+=s>65535?2:1}return wt(r.length,e.length)}function xy(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function $1(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return wt(r[i],e[i]);return wt(r.length,e.length)}function ys(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=-62135596800,My=1e6;class ve{static now(){return ve.fromMillis(Date.now())}static fromDate(e){return ve.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*My);return new ve(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Oy)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/My}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Oy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new ve(0,0))}static max(){return new At(new ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="__name__";class ei{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&_t(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ei.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return wt(e.length,i.length)}static compareSegments(e,i){const s=ei.isNumericId(e),o=ei.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ei.extractNumericId(e).compare(ei.extractNumericId(i)):Qf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ga.fromString(e.substring(4,e.length-2))}}class Jt extends ei{construct(e,i,s){return new Jt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const J1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends ei{construct(e,i,s){return new je(e,i,s)}static isValidIdentifier(e){return J1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uy}static keyField(){return new je([Uy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ut(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ut(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new ut(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(Jt.fromString(e))}static fromName(e){return new dt(Jt.fromString(e).popFirst(5))}static empty(){return new dt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function W1(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new ve(i+1,0):new ve(i,s));return new _a(o,dt.empty(),e)}function tA(r){return new _a(r.readTime,r.key,Zl)}class _a{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new _a(At.min(),dt.empty(),Zl)}static max(){return new _a(At.max(),dt.empty(),Zl)}}function eA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,e.documentKey),i!==0?i:wt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==nA)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):K.reject(i)}static resolve(e){return new K((i,s)=>{i(e)})}static reject(e){return new K((i,s)=>{s(e)})}static waitFor(e){return new K((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>s(_))}),d=!0,h===o&&i()})}static or(e){let i=K.resolve(!1);for(const s of e)i=i.next(o=>o?K.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new K((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>o(A))}})}static doWhile(e,i){return new K((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function aA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ws(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}lc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=-1;function oc(r){return r==null}function $u(r){return r===0&&1/r==-1/0}function rA(r){return typeof r=="number"&&Number.isInteger(r)&&!$u(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="";function sA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Ly(e)),e=lA(r.get(i),e);return Ly(e)}function lA(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case Z_:i+="";break;default:i+=h}}return i}function Ly(r){return r+Z_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ba(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function $_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??ke.RED,this.left=o??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new ke(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Py(this.data.getIterator())}getIteratorFrom(e){return new Py(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Py{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(je.comparator)}static empty(){return new mn([])}unionWith(e){let i=new we(je.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new J_("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const oA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(r){if(jt(!!r,39018),typeof r=="string"){let e=0;const i=oA.exec(r);if(jt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ea(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="server_timestamp",tv="__type__",ev="__previous_value__",nv="__local_write_time__";function pd(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[tv])===null||i===void 0?void 0:i.stringValue)===W_}function uc(r){const e=r.mapValue.fields[ev];return pd(e)?uc(e):e}function $l(r){const e=va(r.mapValue.fields[nv].timestampValue);return new ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,i,s,o,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Ju="(default)";class Jl{constructor(e,i){this.projectId=e,this.database=i||Ju}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===Ju}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="__type__",cA="__max__",zu={mapValue:{}},av="__vector__",Wu="value";function Ta(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pd(r)?4:fA(r)?9007199254740991:hA(r)?10:11:_t(28295,{value:r})}function ai(r,e){if(r===e)return!0;const i=Ta(r);if(i!==Ta(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $l(r).isEqual($l(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=va(o.timestampValue),g=va(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,h){return Ea(o.bytesValue).isEqual(Ea(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(r,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),g=fe(h.doubleValue);return d===g?$u(d)===$u(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return ys(r.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(zy(d)!==zy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ai(d[_],g[_])))return!1;return!0}(r,e);default:return _t(52216,{left:r})}}function Wl(r,e){return(r.values||[]).find(i=>ai(i,e))!==void 0}function _s(r,e){if(r===e)return 0;const i=Ta(r),s=Ta(e);if(i!==s)return wt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return wt(r.booleanValue,e.booleanValue);case 2:return function(h,d){const g=fe(h.integerValue||h.doubleValue),_=fe(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(r,e);case 3:return By(r.timestampValue,e.timestampValue);case 4:return By($l(r),$l(e));case 5:return Qf(r.stringValue,e.stringValue);case 6:return function(h,d){const g=Ea(h),_=Ea(d);return g.compareTo(_)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=wt(g[v],_[v]);if(A!==0)return A}return wt(g.length,_.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const g=wt(fe(h.latitude),fe(d.latitude));return g!==0?g:wt(fe(h.longitude),fe(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return ky(r.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const V=h.fields||{},D=d.fields||{},q=(g=V[Wu])===null||g===void 0?void 0:g.arrayValue,Z=(_=D[Wu])===null||_===void 0?void 0:_.arrayValue,nt=wt(((v=q==null?void 0:q.values)===null||v===void 0?void 0:v.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:ky(q,Z)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===zu.mapValue&&d===zu.mapValue)return 0;if(h===zu.mapValue)return 1;if(d===zu.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let V=0;V<_.length&&V<A.length;++V){const D=Qf(_[V],A[V]);if(D!==0)return D;const q=_s(g[_[V]],v[A[V]]);if(q!==0)return q}return wt(_.length,A.length)}(r.mapValue,e.mapValue);default:throw _t(23264,{Pe:i})}}function By(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return wt(r,e);const i=va(r),s=va(e),o=wt(i.seconds,s.seconds);return o!==0?o:wt(i.nanos,s.nanos)}function ky(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=_s(i[o],s[o]);if(h)return h}return wt(i.length,s.length)}function vs(r){return Ff(r)}function Ff(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=va(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Ea(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return dt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Ff(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Ff(i.fields[d])}`;return o+"}"}(r.mapValue):_t(61005,{value:r})}function qu(r){switch(Ta(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uc(r);return e?16+qu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ea(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+qu(h),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ba(s.fields,(h,d)=>{o+=h.length+qu(d)}),o}(r.mapValue);default:throw _t(13486,{value:r})}}function jy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Yf(r){return!!r&&"integerValue"in r}function yd(r){return!!r&&"arrayValue"in r}function qy(r){return!!r&&"nullValue"in r}function Hy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Hu(r){return!!r&&"mapValue"in r}function hA(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[iv])===null||i===void 0?void 0:i.stringValue)===av}function Gl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ba(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Gl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function fA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Hu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=je.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Gl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Hu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Hu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ba(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new an(Gl(this.value))}}function rv(r){const e=[];return ba(r.fields,(i,s)=>{const o=new je([i]);if(Hu(s)){const h=rv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,At.min(),At.min(),At.min(),an.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,At.min(),At.min(),an.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,At.min(),At.min(),an.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i){this.position=e,this.inclusive=i}}function Gy(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=_s(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Qy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ai(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,i="asc"){this.field=e,this.dir=i}}function dA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{}class _e extends sv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new gA(e,i,s):i==="array-contains"?new _A(e,s):i==="in"?new vA(e,s):i==="not-in"?new EA(e,s):i==="array-contains-any"?new TA(e,s):new _e(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new pA(e,s):new yA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(_s(i,this.value)):i!==null&&Ta(this.value)===Ta(i)&&this.matchesComparison(_s(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends sv{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Ln(e,i)}matches(e){return lv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function lv(r){return r.op==="and"}function ov(r){return mA(r)&&lv(r)}function mA(r){for(const e of r.filters)if(e instanceof Ln)return!1;return!0}function Kf(r){if(r instanceof _e)return r.field.canonicalString()+r.op.toString()+vs(r.value);if(ov(r))return r.filters.map(e=>Kf(e)).join(",");{const e=r.filters.map(i=>Kf(i)).join(",");return`${r.op}(${e})`}}function uv(r,e){return r instanceof _e?function(s,o){return o instanceof _e&&s.op===o.op&&s.field.isEqual(o.field)&&ai(s.value,o.value)}(r,e):r instanceof Ln?function(s,o){return o instanceof Ln&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&uv(d,o.filters[g]),!0):!1}(r,e):void _t(19439)}function cv(r){return r instanceof _e?function(i){return`${i.field.canonicalString()} ${i.op} ${vs(i.value)}`}(r):r instanceof Ln?function(i){return i.op.toString()+" {"+i.getFilters().map(cv).join(" ,")+"}"}(r):"Filter"}class gA extends _e{constructor(e,i,s){super(e,i,s),this.key=dt.fromName(s.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class pA extends _e{constructor(e,i){super(e,"in",i),this.keys=hv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class yA extends _e{constructor(e,i){super(e,"not-in",i),this.keys=hv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function hv(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>dt.fromName(s.referenceValue))}class _A extends _e{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return yd(i)&&Wl(i.arrayValue,this.value)}}class vA extends _e{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class EA extends _e{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wl(this.value.arrayValue,i)}}class TA extends _e{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!yd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function Fy(r,e=null,i=[],s=[],o=null,h=null,d=null){return new AA(r,e,i,s,o,h,d)}function _d(r){const e=St(r);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Kf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),oc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>vs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>vs(s)).join(",")),e.Ie=i}return e.Ie}function vd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!dA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!uv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Qy(r.startAt,e.startAt)&&Qy(r.endAt,e.endAt)}function Xf(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function SA(r,e,i,s,o,h,d,g){return new Cs(r,e,i,s,o,h,d,g)}function fv(r){return new Cs(r)}function Yy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dv(r){return r.collectionGroup!==null}function Ql(r){const e=St(r);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(je.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new to(h,s))}),i.has(je.keyField().canonicalString())||e.Ee.push(new to(je.keyField(),s))}return e.Ee}function ni(r){const e=St(r);return e.de||(e.de=bA(e,Ql(r))),e.de}function bA(r,e){if(r.limitType==="F")return Fy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new to(o.field,h)});const i=r.endAt?new tc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new tc(r.startAt.position,r.startAt.inclusive):null;return Fy(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Zf(r,e){const i=r.filters.concat([e]);return new Cs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function $f(r,e,i){return new Cs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function cc(r,e){return vd(ni(r),ni(e))&&r.limitType===e.limitType}function mv(r){return`${_d(ni(r))}|lt:${r.limitType}`}function hs(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>cv(o)).join(", ")}]`),oc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>vs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>vs(o)).join(",")),`Target(${s})`}(ni(r))}; limitType=${r.limitType})`}function hc(r,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):dt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,o){for(const h of Ql(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,g,_){const v=Gy(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,Ql(s),o)||s.endAt&&!function(d,g,_){const v=Gy(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,Ql(s),o))}(r,e)}function RA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gv(r){return(e,i)=>{let s=!1;for(const o of Ql(r)){const h=wA(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function wA(r,e,i){const s=r.field.isKeyField()?dt.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?_s(_,v):_t(42886)}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return $_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new ie(dt.comparator);function Ui(){return CA}const pv=new ie(dt.comparator);function kl(...r){let e=pv;for(const i of r)e=e.insert(i.key,i);return e}function yv(r){let e=pv;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function hr(){return Fl()}function _v(){return Fl()}function Fl(){return new gr(r=>r.toString(),(r,e)=>r.isEqual(e))}const DA=new ie(dt.comparator),VA=new we(dt.comparator);function Nt(...r){let e=VA;for(const i of r)e=e.add(i);return e}const IA=new we(wt);function NA(){return IA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(e)?"-0":e}}function vv(r){return{integerValue:""+r}}function xA(r,e){return rA(e)?vv(e):Ed(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){this._=void 0}}function OA(r,e,i){return r instanceof eo?function(o,h){const d={fields:{[tv]:{stringValue:W_},[nv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&pd(h)&&(h=uc(h)),h&&(d.fields[ev]=h),{mapValue:d}}(i,e):r instanceof no?Tv(r,e):r instanceof io?Av(r,e):function(o,h){const d=Ev(o,h),g=Ky(d)+Ky(o.Re);return Yf(d)&&Yf(o.Re)?vv(g):Ed(o.serializer,g)}(r,e)}function MA(r,e,i){return r instanceof no?Tv(r,e):r instanceof io?Av(r,e):i}function Ev(r,e){return r instanceof ec?function(s){return Yf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class eo extends fc{}class no extends fc{constructor(e){super(),this.elements=e}}function Tv(r,e){const i=Sv(e);for(const s of r.elements)i.some(o=>ai(o,s))||i.push(s);return{arrayValue:{values:i}}}class io extends fc{constructor(e){super(),this.elements=e}}function Av(r,e){let i=Sv(e);for(const s of r.elements)i=i.filter(o=>!ai(o,s));return{arrayValue:{values:i}}}class ec extends fc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function Ky(r){return fe(r.integerValue||r.doubleValue)}function Sv(r){return yd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,i){this.field=e,this.transform=i}}function LA(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof no&&o instanceof no||s instanceof io&&o instanceof io?ys(s.elements,o.elements,ai):s instanceof ec&&o instanceof ec?ai(s.Re,o.Re):s instanceof eo&&o instanceof eo}(r.transform,e.transform)}class zA{constructor(e,i){this.version=e,this.transformResults=i}}class Un{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class dc{}function bv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Td(r.key,Un.none()):new ao(r.key,r.data,Un.none());{const i=r.data,s=an.empty();let o=new we(je.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Ra(r.key,s,new mn(o.toArray()),Un.none())}}function PA(r,e,i){r instanceof ao?function(o,h,d){const g=o.value.clone(),_=Zy(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Ra?function(o,h,d){if(!Gu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Zy(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Rv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(r,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Yl(r,e,i,s){return r instanceof ao?function(h,d,g,_){if(!Gu(h.precondition,d))return g;const v=h.value.clone(),A=$y(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,e,i,s):r instanceof Ra?function(h,d,g,_){if(!Gu(h.precondition,d))return g;const v=$y(h.fieldTransforms,_,d),A=d.data;return A.setAll(Rv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(r,e,i,s):function(h,d,g){return Gu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function BA(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=Ev(s.transform,o||null);h!=null&&(i===null&&(i=an.empty()),i.set(s.field,h))}return i||null}function Xy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ys(s,o,(h,d)=>LA(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ao extends dc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ra extends dc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Rv(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function Zy(r,e,i){const s=new Map;jt(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,MA(d,g,i[o]))}return s}function $y(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,OA(h,d,e))}return s}class Td extends dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kA extends dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&PA(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=_v();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=bv(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(i,s)=>Xy(i,s))&&ys(this.baseMutations,e.baseMutations,(i,s)=>Xy(i,s))}}class Ad{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){jt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return DA}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Ad(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Ut;function GA(r){switch(r){case X.OK:return _t(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function wv(r){if(r===void 0)return Mi("GRPC error has no .code"),X.UNKNOWN;switch(r){case ye.OK:return X.OK;case ye.CANCELLED:return X.CANCELLED;case ye.UNKNOWN:return X.UNKNOWN;case ye.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ye.INTERNAL:return X.INTERNAL;case ye.UNAVAILABLE:return X.UNAVAILABLE;case ye.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ye.NOT_FOUND:return X.NOT_FOUND;case ye.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ye.ABORTED:return X.ABORTED;case ye.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ye.DATA_LOSS:return X.DATA_LOSS;default:return _t(39323,{code:r})}}(Ut=ye||(ye={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=new ga([4294967295,4294967295],0);function Jy(r){const e=K_().encode(r),i=new k_;return i.update(e),new Uint8Array(i.digest())}function Wy(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ga([i,s],0),new ga([o,h],0)]}class Sd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new jl(`Invalid padding: ${i}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new jl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=ga.fromNumber(this.pe)}we(e,i,s){let o=e.add(i.multiply(ga.fromNumber(s)));return o.compare(QA)===1&&(o=new ga([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Jy(e),[s,o]=Wy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);if(!this.Se(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Sd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=Jy(e),[s,o]=Wy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,ro.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new mc(At.min(),o,new ie(wt),Ui(),Nt())}}class ro{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ro(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,i,s,o){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=o}}class Cv{constructor(e,i){this.targetId=e,this.Ce=i}}class Dv{constructor(e,i,s=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class t_{constructor(){this.Fe=0,this.Me=e_(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Nt(),i=Nt(),s=Nt();return this.Me.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:h})}}),new ro(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=e_()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class FA{constructor(e){this.ze=e,this.je=new Map,this.He=Ui(),this.Je=Pu(),this.Ye=Pu(),this.Ze=new ie(wt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:_t(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,o)=>{this.it(o)&&i(o)})}ot(e){const i=e.targetId,s=e.Ce.count,o=this._t(i);if(o){const h=o.target;if(Xf(h))if(s===0){const d=new dt(h.path);this.tt(i,d,Ke.newNoDocument(d,At.min()))}else jt(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(e),_=g?this.lt(g,e,d):1;if(_!==0){this.st(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Ea(s).toUint8Array()}catch(_){if(_ instanceof J_)return ps("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Sd(d,o,h)}catch(_){return ps(_ instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.pe===0?null:g}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),o++)}),o}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&Xf(g.target)){const _=new dt(g.target.path);this.Et(_).has(d)||this.dt(d,_)||this.tt(d,_,Ke.newNoDocument(_,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=Nt();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const o=new mc(e,i,this.Ze,this.He,s);return this.He=Ui(),this.Je=Pu(),this.Ye=Pu(),this.Ze=new ie(wt),o}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new t_,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new we(wt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new we(wt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new t_),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Pu(){return new ie(dt.comparator)}function e_(){return new ie(dt.comparator)}const YA={asc:"ASCENDING",desc:"DESCENDING"},KA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XA={and:"AND",or:"OR"};class ZA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Jf(r,e){return r.useProto3Json||oc(e)?e:{value:e}}function nc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $A(r,e){return nc(r,e.toTimestamp())}function ii(r){return jt(!!r,49232),At.fromTimestamp(function(i){const s=va(i);return new ve(s.seconds,s.nanos)}(r))}function bd(r,e){return Wf(r,e).canonicalString()}function Wf(r,e){const i=function(o){return new Jt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function Iv(r){const e=Jt.fromString(r);return jt(Uv(e),10190,{key:e.toString()}),e}function td(r,e){return bd(r.databaseId,e.path)}function Mf(r,e){const i=Iv(e);if(i.get(1)!==r.databaseId.projectId)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(xv(i))}function Nv(r,e){return bd(r.databaseId,e)}function JA(r){const e=Iv(r);return e.length===4?Jt.emptyPath():xv(e)}function ed(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xv(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function n_(r,e,i){return{name:td(r,e),fields:i.value.mapValue.fields}}function WA(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_t(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(jt(A===void 0||typeof A=="string",58123),qe.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),qe.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:wv(v.code);return new ut(A,v.message||"")}(d);i=new Dv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mf(r,s.document.name),h=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):At.min(),g=new an({mapValue:{fields:s.document.fields}}),_=Ke.newFoundDocument(o,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Qu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mf(r,s.document),h=s.readTime?ii(s.readTime):At.min(),d=Ke.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Qu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mf(r,s.document),h=s.removedTargetIds||[];i=new Qu([],h,o,null)}else{if(!("filter"in e))return _t(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new HA(o,h),g=s.targetId;i=new Cv(g,d)}}return i}function tS(r,e){let i;if(e instanceof ao)i={update:n_(r,e.key,e.value)};else if(e instanceof Td)i={delete:td(r,e.key)};else if(e instanceof Ra)i={update:n_(r,e.key,e.data),updateMask:uS(e.fieldMask)};else{if(!(e instanceof kA))return _t(16599,{ft:e.type});i={verify:td(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof eo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof no)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof io)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ec)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw _t(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:$A(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t(27497)}(r,e.precondition)),i}function eS(r,e){return r&&r.length>0?(jt(e!==void 0,14353),r.map(i=>function(o,h){let d=o.updateTime?ii(o.updateTime):ii(h);return d.isEqual(At.min())&&(d=ii(h)),new zA(d,o.transformResults||[])}(i,e))):[]}function nS(r,e){return{documents:[Nv(r,e.path)]}}function iS(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Nv(r,o);const h=function(v){if(v.length!==0)return Mv(Ln.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(D){return{field:fs(D.field),direction:sS(D.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Jf(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:i,parent:o}}function aS(r){let e=JA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){jt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(V){const D=Ov(V);return D instanceof Ln&&ov(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(D=>function(Z){return new to(ds(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(V){let D;return D=typeof V=="object"?V.value:V,oc(D)?null:D}(i.limit));let _=null;i.startAt&&(_=function(V){const D=!!V.before,q=V.values||[];return new tc(q,D)}(i.startAt));let v=null;return i.endAt&&(v=function(V){const D=!V.before,q=V.values||[];return new tc(q,D)}(i.endAt)),SA(e,o,d,h,g,"F",_,v)}function rS(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Ov(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ds(i.unaryFilter.field);return _e.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ds(i.unaryFilter.field);return _e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ds(i.unaryFilter.field);return _e.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ds(i.unaryFilter.field);return _e.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(r):r.fieldFilter!==void 0?function(i){return _e.create(ds(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Ln.create(i.compositeFilter.filters.map(s=>Ov(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(i.compositeFilter.op))}(r):_t(30097,{filter:r})}function sS(r){return YA[r]}function lS(r){return KA[r]}function oS(r){return XA[r]}function fs(r){return{fieldPath:r.canonicalString()}}function ds(r){return je.fromServerFormat(r.fieldPath)}function Mv(r){return r instanceof _e?function(i){if(i.op==="=="){if(Hy(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NAN"}};if(qy(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Hy(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NOT_NAN"}};if(qy(i.value))return{unaryFilter:{field:fs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(i.field),op:lS(i.op),value:i.value}}}(r):r instanceof Ln?function(i){const s=i.getFilters().map(o=>Mv(o));return s.length===1?s[0]:{compositeFilter:{op:oS(i.op),filters:s}}}(r):_t(54877,{filter:r})}function uS(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Uv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,i,s,o,h=At.min(),d=At.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.wt=e}}function hS(r){const e=aS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?$f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.Cn=new dS}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(_a.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(_a.min())}updateCollectionGroup(e,i,s){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class dS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Jt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lv=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(Lv,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Es(0)}static lr(){return new Es(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="LruGarbageCollector",mS=1048576;function r_([r,e],[i,s]){const o=wt(r,i);return o===0?wt(e,s):o}class gS{constructor(e){this.Er=e,this.buffer=new we(r_),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();r_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class pS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ot(a_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ws(i)?ot(a_,"Ignoring IndexedDB error during garbage collection: ",i):await Rs(i)}await this.mr(3e5)})}}class yS{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return K.resolve(lc.le);const s=new gS(i);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.gr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(i_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i_):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let s,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),o=this.params.maximumSequenceNumbersToCollect):o=V,d=Date.now(),this.nthSequenceNumber(e,o))).next(V=>(s=V,g=Date.now(),this.removeTargets(e,s,i))).next(V=>(h=V,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(V=>(v=Date.now(),cs()<=Lt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${V} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:V})))}}function _S(r,e){return new yS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.changes=new gr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Yl(s.mutation,o,mn.empty(),ve.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Nt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Nt()){const o=hr();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=kl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=hr();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Nt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=Ui();const d=Fl(),g=function(){return Fl()}();return i.forEach((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof Ra)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Yl(A.mutation,v,A.mutation.getFieldMask(),ve.now())):d.set(v.key,mn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var V;return g.set(v,new ES(A,(V=d.get(v))!==null&&V!==void 0?V:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Fl();let o=new ie((d,g)=>d-g),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||mn.empty();A=g.applyToLocalView(v,A),s.set(_,A);const V=(o.get(g.batchId)||Nt()).add(_);o=o.insert(g.batchId,V)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,V=_v();A.forEach(D=>{if(!h.has(D)){const q=bv(i.get(D),s.get(D));q!==null&&V.set(D,q),h=h.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,V))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):dv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):K.resolve(hr());let g=Zl,_=h;return d.next(v=>K.forEach(v,(A,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next(D=>{_=_.insert(A,D)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Nt())).next(A=>({batchId:g,changes:yv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next(s=>{let o=kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=kl();return this.indexManager.getCollectionParents(e,h).next(g=>K.forEach(g,_=>{const v=function(V,D){return new Cs(D,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(A=>{A.forEach((V,D)=>{d=d.insert(V,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))});let g=kl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Yl(A.mutation,v,mn.empty(),ve.now()),hc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return K.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}}(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(o){return{name:o.name,query:hS(o.bundledQuery),readTime:ii(o.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.overlays=new ie(dt.comparator),this.Qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const s=hr();return K.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.bt(e,i,h)}),K.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(s)),K.resolve()}getOverlaysForCollection(e,i,s){const o=hr(),h=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&o.set(_.getKey(),_)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ie((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=hr(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=hr(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return K.resolve(g)}bt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new qA(i,s));let h=this.Qr.get(i);h===void 0&&(h=Nt(),this.Qr.set(i,h)),this.Qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this.$r=new we(Oe.Ur),this.Kr=new we(Oe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.zr(new Oe(e,i))}jr(e,i){e.forEach(s=>this.removeReference(s,i))}Hr(e){const i=new dt(new Jt([])),s=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.Kr.forEachInRange([s,o],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new dt(new Jt([])),s=new Oe(i,e),o=new Oe(i,e+1);let h=Nt();return this.Kr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),s=this.$r.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return dt.comparator(e.key,i.key)||wt(e.Zr,i.Zr)}static Wr(e,i){return wt(e.Zr,i.Zr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new we(Oe.Ur)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jA(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Xr=this.Xr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ti(s),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?gd:this.nr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([s,o],d=>{const g=this.ei(d.Zr);h.push(g)}),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(wt);return i.forEach(o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{s=s.add(g.Zr)})}),K.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;dt.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new dt(h),0);let g=new we(wt);return this.Xr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Zr)),!0)},d),K.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){jt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return K.forEach(i.mutations,o=>{const h=new Oe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,i){const s=new Oe(i,0),o=this.Xr.firstAfterOrEqual(s);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.ii=e,this.docs=function(){return new ie(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Ui();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Ui();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||eA(tA(A),s)<=0||(o.has(A.key)||hc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,s,o){_t(9500)}si(e,i){return K.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new CS(this)}getSize(e){return K.resolve(this.size)}}class CS extends vS{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),K.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.persistence=e,this.oi=new gr(i=>_d(i),vd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this._i=0,this.ai=new Rd,this.targetCount=0,this.ui=Es.cr()}forEachTarget(e,i){return this.oi.forEach((s,o)=>i(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),K.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new Es(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Tr(i),K.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),K.waitFor(h).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const s=this.oi.get(i)||null;return K.resolve(s)}addMatchingKeys(e,i,s){return this.ai.Gr(i,s),K.resolve()}removeMatchingKeys(e,i,s){this.ai.jr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ai.Yr(i);return K.resolve(s)}containsKey(e,i){return K.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,i){this.ci={},this.overlays={},this.li=new lc(0),this.hi=!1,this.hi=!0,this.Pi=new bS,this.referenceDelegate=e(this),this.Ti=new DS(this),this.indexManager=new fS,this.remoteDocumentCache=function(o){return new wS(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new cS(i),this.Ei=new AS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new SS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ci[e.toKey()];return s||(s=new RS(i,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,s){ot("MemoryPersistence","Starting transaction:",e);const o=new VS(this.li.next());return this.referenceDelegate.di(),s(o).next(h=>this.referenceDelegate.Ai(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ri(e,i){return K.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,i)))}}class VS extends iA{constructor(e){super(),this.currentSequenceNumber=e}}class wd{constructor(e){this.persistence=e,this.Vi=new Rd,this.mi=null}static fi(e){return new wd(e)}get gi(){if(this.mi)return this.mi;throw _t(60996)}addReference(e,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),K.resolve()}removeReference(e,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.gi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.gi,s=>{const o=dt.fromPath(s);return this.pi(e,o).next(h=>{h||i.removeEntry(o,At.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return K.or([()=>K.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class ic{constructor(e,i){this.persistence=e,this.yi=new gr(s=>sA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=_S(this,i)}static fi(e,i){return new ic(e,i)}di(){}Ai(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}Sr(e){let i=0;return this.yr(e,s=>{i++}).next(()=>i)}yr(e,i){return K.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(h=>h?K.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,At.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),K.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=qu(e.data.value)),i}Dr(e,i,s){return K.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.yi.get(i);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.ds=s,this.As=o}static Rs(e,i){let s=Nt(),o=Nt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Cd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return bT()?8:aA(AT())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Ss(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new IS;return this.bs(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,s,o){return s.documentReadCount<this.gs?(cs()<=Lt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",hs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),K.resolve()):(cs()<=Lt.DEBUG&&ot("QueryEngine","Query:",hs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(cs()<=Lt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",hs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):K.resolve())}ws(e,i){if(Yy(i))return K.resolve(null);let s=ni(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=$f(i,null,"F"),s=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Nt(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.vs(i,g);return this.Cs(i,v,d,_.readTime)?this.ws(e,$f(i,null,"F")):this.Fs(e,v,i,_)}))})))}Ss(e,i,s,o){return Yy(i)||o.isEqual(At.min())?K.resolve(null):this.ys.getDocuments(e,s).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,s,o)?K.resolve(null):(cs()<=Lt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),hs(i)),this.Fs(e,d,i,W1(o,Zl)).next(g=>g))})}vs(e,i){let s=new we(gv(e));return i.forEach((o,h)=>{hc(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}bs(e,i,s){return cs()<=Lt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",hs(i)),this.ys.getDocumentsMatchingQuery(e,i,_a.min(),s)}Fs(e,i,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="LocalStore",xS=3e8;class OS{constructor(e,i,s,o){this.persistence=e,this.Ms=i,this.serializer=o,this.xs=new ie(wt),this.Os=new gr(h=>_d(h),vd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TS(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function MS(r,e,i,s){return new OS(r,e,i,s)}async function Pv(r,e){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=Nt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next(v=>({ks:v,removedBatchIds:d,addedBatchIds:g}))})})}function US(r,e){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const V=v.batch,D=V.keys();let q=K.resolve();return D.forEach(Z=>{q=q.next(()=>A.getEntry(_,Z)).next(nt=>{const J=v.docVersions.get(Z);jt(J!==null,48541),nt.version.compareTo(J)<0&&(V.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))})}),q.next(()=>g.mutationQueue.removeMutationBatch(_,V))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Nt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function Bv(r){const e=St(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function LS(r,e){const i=St(r),s=e.snapshotVersion;let o=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});o=i.xs;const g=[];e.targetChanges.forEach((A,V)=>{const D=o.get(V);if(!D)return;g.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,V).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,V)));let q=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(V)!==null?q=q.withResumeToken(qe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,s)),o=o.insert(V,q),function(nt,J,lt){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=xS?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0}(D,q,A)&&g.push(i.Ti.updateTargetData(h,q))});let _=Ui(),v=Nt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(zS(h,d,e.documentUpdates).next(A=>{_=A.qs,v=A.Qs})),!s.isEqual(At.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(V=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return K.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.xs=o,h))}function zS(r,e,i){let s=Nt(),o=Nt();return i.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let d=Ui();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(At.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):ot(Dd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{qs:d,Qs:o}})}function PS(r,e){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=gd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function BS(r,e){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Ti.getTargetData(s,e).next(h=>h?(o=h,K.resolve(o)):i.Ti.allocateTargetId(s).next(d=>(o=new fa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(e,s.targetId)),s})}async function nd(r,e,i){const s=St(r),o=s.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!ws(d))throw d;ot(Dd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function s_(r,e,i){const s=St(r);let o=At.min(),h=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const V=St(_),D=V.Os.get(A);return D!==void 0?K.resolve(V.xs.get(D)):V.Ti.getTargetData(v,A)}(s,d,ni(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?h:Nt())).next(g=>(kS(s,RA(e),g),{documents:g,$s:h})))}function kS(r,e,i){let s=r.Ns.get(e)||At.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.Ns.set(e,s)}class l_{constructor(){this.activeTargetIds=NA()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jS{constructor(){this.xo=new l_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,s){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new l_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="ConnectivityMonitor";class u_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ot(o_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ot(o_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu=null;function id(){return Bu===null?Bu=function(){return 268435456+Math.round(2147483648*Math.random())}():Bu++,"0x"+Bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="RestConnection",HS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GS{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Ju?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,i,s,o,h){const d=id(),g=this.jo(e,i.toUriEncodedString());ot(Uf,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(_,o,h);const{host:v}=new URL(g),A=fd(v);return this.Jo(e,g,_,s,A).then(V=>(ot(Uf,`Received RPC '${e}' ${d}: `,V),V),V=>{throw ps(Uf,`RPC '${e}' ${d} failed with error: `,V,"url: ",g,"request:",s),V})}Yo(e,i,s,o,h,d){return this.zo(e,i,s,o,h)}Ho(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}jo(e,i){const s=HS[e];return`${this.Ko}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class FS extends GS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=id();return new Promise((g,_)=>{const v=new j_;v.setWithCredentials(!0),v.listenOnce(q_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case ju.NO_ERROR:const V=v.getResponseJson();ot(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(V)),g(V);break;case ju.TIMEOUT:ot(Fe,`RPC '${e}' ${d} timed out`),_(new ut(X.DEADLINE_EXCEEDED,"Request time out"));break;case ju.HTTP_ERROR:const D=v.getStatus();if(ot(Fe,`RPC '${e}' ${d} failed with status:`,D,"response text:",v.getResponseText()),D>0){let q=v.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q==null?void 0:q.error;if(Z&&Z.status&&Z.message){const nt=function(lt){const at=lt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(at)>=0?at:X.UNKNOWN}(Z.status);_(new ut(nt,Z.message))}else _(new ut(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ut(X.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ot(Fe,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);ot(Fe,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,s,15)})}T_(e,i,s){const o=id(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Q_(),g=G_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Ho(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=h.join("");ot(Fe,`Creating RPC '${e}' stream ${o}: ${A}`,_);const V=d.createWebChannel(A,_);let D=!1,q=!1;const Z=new QS({Zo:J=>{q?ot(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(D||(ot(Fe,`Opening RPC '${e}' stream ${o} transport.`),V.open(),D=!0),ot(Fe,`RPC '${e}' stream ${o} sending:`,J),V.send(J))},Xo:()=>V.close()}),nt=(J,lt,at)=>{J.listen(lt,st=>{try{at(st)}catch(Et){setTimeout(()=>{throw Et},0)}})};return nt(V,Bl.EventType.OPEN,()=>{q||(ot(Fe,`RPC '${e}' stream ${o} transport opened.`),Z.__())}),nt(V,Bl.EventType.CLOSE,()=>{q||(q=!0,ot(Fe,`RPC '${e}' stream ${o} transport closed`),Z.u_())}),nt(V,Bl.EventType.ERROR,J=>{q||(q=!0,ps(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),Z.u_(new ut(X.UNAVAILABLE,"The operation could not be completed")))}),nt(V,Bl.EventType.MESSAGE,J=>{var lt;if(!q){const at=J.data[0];jt(!!at,16349);const st=at,Et=(st==null?void 0:st.error)||((lt=st[0])===null||lt===void 0?void 0:lt.error);if(Et){ot(Fe,`RPC '${e}' stream ${o} received error:`,Et);const gt=Et.status;let tt=function(R){const x=ye[R];if(x!==void 0)return wv(x)}(gt),N=Et.message;tt===void 0&&(tt=X.INTERNAL,N="Unknown error status: "+gt+" with message "+Et.message),q=!0,Z.u_(new ut(tt,N)),V.close()}else ot(Fe,`RPC '${e}' stream ${o} received:`,at),Z.c_(at)}}),nt(g,H_.STAT_EVENT,J=>{J.stat===Gf.PROXY?ot(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Gf.NOPROXY&&ot(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Z.a_()},0),Z}}function Lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(r){return new ZA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,i,s=1e3,o=1.5,h=6e4){this.xi=e,this.timerId=i,this.I_=s,this.E_=o,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const i=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,i-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="PersistentStream";class jv{constructor(e,i,s,o,h,d,g,_){this.xi=e,this.y_=s,this.w_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new kv(e,i)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,i){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===i&&this.K_(s,o)},s=>{e(()=>{const o=new ut(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(e,i){const s=this.U_(this.S_);this.stream=this.G_(e,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ot(c_,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return i=>{this.xi.enqueueAndForget(()=>this.S_===e?i():(ot(c_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YS extends jv{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}G_(e,i){return this.connection.T_("Listen",e,i)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const i=WA(this.serializer,e),s=function(h){if(!("targetChange"in h))return At.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ii(d.readTime):At.min()}(e);return this.listener.j_(i,s)}H_(e){const i={};i.database=ed(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Xf(_)?{documents:nS(h,_)}:{query:iS(h,_).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Vv(h,d.resumeToken);const v=Jf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=nc(h,d.snapshotVersion.toTimestamp());const v=Jf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=rS(this.serializer,e);s&&(i.labels=s),this.L_(i)}J_(e){const i={};i.database=ed(this.serializer),i.removeTarget=e,this.L_(i)}}class KS extends jv{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,i){return this.connection.T_("Write",e,i)}z_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const i=eS(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.ea(s,i)}ta(){const e={};e.database=ed(this.serializer),this.L_(e)}Z_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>tS(this.serializer,s))};this.L_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{}class ZS extends XS{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,Wf(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(X.UNKNOWN,h.toString())})}Yo(e,i,s,o,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,Wf(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(X.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class $S{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Mi(i),this.oa=!1):ot("OnlineStateTracker",i)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="RemoteStore";class JS{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(d=>{s.enqueueAndForget(async()=>{pr(this)&&(ot(dr,"Restarting streams for network reachability change."),await async function(_){const v=St(_);v.Ta.add(4),await so(v),v.da.set("Unknown"),v.Ta.delete(4),await pc(v)}(this))})}),this.da=new $S(s,o)}}async function pc(r){if(pr(r))for(const e of r.Ia)await e(!0)}async function so(r){for(const e of r.Ia)await e(!1)}function qv(r,e){const i=St(r);i.Pa.has(e.targetId)||(i.Pa.set(e.targetId,e),xd(i)?Nd(i):Ds(i).M_()&&Id(i,e))}function Vd(r,e){const i=St(r),s=Ds(i);i.Pa.delete(e),s.M_()&&Hv(i,e),i.Pa.size===0&&(s.M_()?s.N_():pr(i)&&i.da.set("Unknown"))}function Id(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ds(r).H_(e)}function Hv(r,e){r.Aa.Ke(e),Ds(r).J_(e)}function Nd(r){r.Aa=new FA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Ds(r).start(),r.da._a()}function xd(r){return pr(r)&&!Ds(r).F_()&&r.Pa.size>0}function pr(r){return St(r).Ta.size===0}function Gv(r){r.Aa=void 0}async function WS(r){r.da.set("Online")}async function tb(r){r.Pa.forEach((e,i)=>{Id(r,e)})}async function eb(r,e){Gv(r),xd(r)?(r.da.ca(e),Nd(r)):r.da.set("Unknown")}async function nb(r,e,i){if(r.da.set("Online"),e instanceof Dv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Pa.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Pa.delete(g),o.Aa.removeTarget(g))}(r,e)}catch(s){ot(dr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ac(r,s)}else if(e instanceof Qu?r.Aa.Xe(e):e instanceof Cv?r.Aa.ot(e):r.Aa.nt(e),!i.isEqual(At.min()))try{const s=await Bv(r.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Aa.It(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Pa.get(v);A&&h.Pa.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Pa.get(_);if(!A)return;h.Pa.set(_,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),Hv(h,_);const V=new fa(A.target,_,v,A.sequenceNumber);Id(h,V)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){ot(dr,"Failed to raise snapshot:",s),await ac(r,s)}}async function ac(r,e,i){if(!ws(e))throw e;r.Ta.add(1),await so(r),r.da.set("Offline"),i||(i=()=>Bv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(dr,"Retrying IndexedDB access"),await i(),r.Ta.delete(1),await pc(r)})}function Qv(r,e){return e().catch(i=>ac(r,i,e))}async function yc(r){const e=St(r),i=Aa(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:gd;for(;ib(e);)try{const o=await PS(e.localStore,s);if(o===null){e.ha.length===0&&i.N_();break}s=o.batchId,ab(e,o)}catch(o){await ac(e,o)}Fv(e)&&Yv(e)}function ib(r){return pr(r)&&r.ha.length<10}function ab(r,e){r.ha.push(e);const i=Aa(r);i.M_()&&i.Y_&&i.Z_(e.mutations)}function Fv(r){return pr(r)&&!Aa(r).F_()&&r.ha.length>0}function Yv(r){Aa(r).start()}async function rb(r){Aa(r).ta()}async function sb(r){const e=Aa(r);for(const i of r.ha)e.Z_(i.mutations)}async function lb(r,e,i){const s=r.ha.shift(),o=Ad.from(s,e,i);await Qv(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await yc(r)}async function ob(r,e){e&&Aa(r).Y_&&await async function(s,o){if(function(d){return GA(d)&&d!==X.ABORTED}(o.code)){const h=s.ha.shift();Aa(s).O_(),await Qv(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await yc(s)}}(r,e),Fv(r)&&Yv(r)}async function h_(r,e){const i=St(r);i.asyncQueue.verifyOperationInProgress(),ot(dr,"RemoteStore received new credentials");const s=pr(i);i.Ta.add(3),await so(i),s&&i.da.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ta.delete(3),await pc(i)}async function ub(r,e){const i=St(r);e?(i.Ta.delete(2),await pc(i)):e||(i.Ta.add(2),await so(i),i.da.set("Unknown"))}function Ds(r){return r.Ra||(r.Ra=function(i,s,o){const h=St(i);return h.ra(),new YS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{e_:WS.bind(null,r),n_:tb.bind(null,r),i_:eb.bind(null,r),j_:nb.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),xd(r)?Nd(r):r.da.set("Unknown")):(await r.Ra.stop(),Gv(r))})),r.Ra}function Aa(r){return r.Va||(r.Va=function(i,s,o){const h=St(i);return h.ra(),new KS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:rb.bind(null,r),i_:ob.bind(null,r),X_:sb.bind(null,r),ea:lb.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await yc(r)):(await r.Va.stop(),r.ha.length>0&&(ot(dr,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Od(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Md(r,e){if(Mi("AsyncQueue",`${e}: ${r}`),ws(r))return new ut(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{static emptySet(e){return new gs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=kl(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new gs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.ma=new ie(dt.comparator)}track(e){const i=e.doc.key,s=this.ma.get(i);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(i,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(i):e.type===1&&s.type===2?this.ma=this.ma.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):_t(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(i,e)}ga(){const e=[];return this.ma.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ts{constructor(e,i,s,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ts(e,i,gs.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class hb{constructor(){this.queries=d_(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(i,s){const o=St(i),h=o.queries;o.queries=d_(),h.forEach((d,g)=>{for(const _ of g.ya)_.onError(s)})})(this,new ut(X.ABORTED,"Firestore shutting down"))}}function d_(){return new gr(r=>mv(r),cc)}async function fb(r,e){const i=St(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.wa()&&e.Sa()&&(s=2):(h=new cb,s=e.Sa()?0:1);try{switch(s){case 0:h.pa=await i.onListen(o,!0);break;case 1:h.pa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Md(d,`Initialization of query '${hs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ya.push(e),e.Da(i.onlineState),h.pa&&e.va(h.pa)&&Ud(i)}async function db(r,e){const i=St(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ya.indexOf(e);d>=0&&(h.ya.splice(d,1),h.ya.length===0?o=e.Sa()?0:1:!h.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function mb(r,e){const i=St(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ya)g.va(o)&&(s=!0);d.pa=o}}s&&Ud(i)}function gb(r,e,i){const s=St(r),o=s.queries.get(e);if(o)for(const h of o.ya)h.onError(i);s.queries.delete(e)}function Ud(r){r.ba.forEach(e=>{e.next()})}var ad,m_;(m_=ad||(ad={})).Ca="default",m_.Cache="cache";class pb{constructor(e,i,s){this.query=e,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ts(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),i=!0):this.Na(e,this.onlineState)&&(this.Ba(e),i=!0),this.xa=e,i}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),i=!0),i}Na(e,i){if(!e.fromCache||!this.Sa())return!0;const s=i!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const i=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ba(e){e=Ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==ad.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this.key=e}}class Xv{constructor(e){this.key=e}}class yb{constructor(e,i){this.query=e,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Nt(),this.mutatedKeys=Nt(),this.Ha=gv(e),this.Ja=new gs(this.Ha)}get Ya(){return this.Ga}Za(e,i){const s=i?i.Xa:new f_,o=i?i.Ja:this.Ja;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,V)=>{const D=o.get(A),q=hc(this.query,V)?V:null,Z=!!D&&this.mutatedKeys.has(D.key),nt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let J=!1;D&&q?D.data.isEqual(q.data)?Z!==nt&&(s.track({type:3,doc:q}),J=!0):this.eu(D,q)||(s.track({type:2,doc:q}),J=!0,(_&&this.Ha(q,_)>0||v&&this.Ha(q,v)<0)&&(g=!0)):!D&&q?(s.track({type:0,doc:q}),J=!0):D&&!q&&(s.track({type:1,doc:D}),J=!0,(_||v)&&(g=!0)),J&&(q?(d=d.add(q),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Ja:d,Xa:s,Cs:g,mutatedKeys:h}}eu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((A,V)=>function(q,Z){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:J})}};return nt(q)-nt(Z)}(A.type,V.type)||this.Ha(A.doc,V.doc)),this.tu(s),o=o!=null&&o;const g=i&&!o?this.nu():[],_=this.ja.size===0&&this.current&&!o?1:0,v=_!==this.za;return this.za=_,d.length!==0||v?{snapshot:new Ts(this.query,e.Ja,h,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:g}:{ru:g}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new f_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Nt(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const i=[];return e.forEach(s=>{this.ja.has(s)||i.push(new Xv(s))}),this.ja.forEach(s=>{e.has(s)||i.push(new Kv(s))}),i}su(e){this.Ga=e.$s,this.ja=Nt();const i=this.Za(e.documents);return this.applyChanges(i,!0)}ou(){return Ts.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Ld="SyncEngine";class _b{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class vb{constructor(e){this.key=e,this._u=!1}}class Eb{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new gr(g=>mv(g),cc),this.cu=new Map,this.lu=new Set,this.hu=new ie(dt.comparator),this.Pu=new Map,this.Tu=new Rd,this.Iu={},this.Eu=new Map,this.du=Es.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function Tb(r,e,i=!0){const s=e0(r);let o;const h=s.uu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.ou()):o=await Zv(s,e,i,!0),o}async function Ab(r,e){const i=e0(r);await Zv(i,e,!0,!1)}async function Zv(r,e,i,s){const o=await BS(r.localStore,ni(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await Sb(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&qv(r.remoteStore,o),g}async function Sb(r,e,i,s,o){r.Ru=(V,D,q)=>async function(nt,J,lt,at){let st=J.view.Za(lt);st.Cs&&(st=await s_(nt.localStore,J.query,!1).then(({documents:N})=>J.view.Za(N,st)));const Et=at&&at.targetChanges.get(J.targetId),gt=at&&at.targetMismatches.get(J.targetId)!=null,tt=J.view.applyChanges(st,nt.isPrimaryClient,Et,gt);return p_(nt,J.targetId,tt.ru),tt.snapshot}(r,V,D,q);const h=await s_(r.localStore,e,!0),d=new yb(e,h.$s),g=d.Za(h.documents),_=ro.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),v=d.applyChanges(g,r.isPrimaryClient,_);p_(r,i,v.ru);const A=new _b(e,i,d);return r.uu.set(e,A),r.cu.has(i)?r.cu.get(i).push(e):r.cu.set(i,[e]),v.snapshot}async function bb(r,e,i){const s=St(r),o=s.uu.get(e),h=s.cu.get(o.targetId);if(h.length>1)return s.cu.set(o.targetId,h.filter(d=>!cc(d,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await nd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Vd(s.remoteStore,o.targetId),rd(s,o.targetId)}).catch(Rs)):(rd(s,o.targetId),await nd(s.localStore,o.targetId,!0))}async function Rb(r,e){const i=St(r),s=i.uu.get(e),o=i.cu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Vd(i.remoteStore,s.targetId))}async function wb(r,e,i){const s=Ob(r);try{const o=await function(d,g){const _=St(d),v=ve.now(),A=g.reduce((q,Z)=>q.add(Z.key),Nt());let V,D;return _.persistence.runTransaction("Locally write mutations","readwrite",q=>{let Z=Ui(),nt=Nt();return _.Bs.getEntries(q,A).next(J=>{Z=J,Z.forEach((lt,at)=>{at.isValidDocument()||(nt=nt.add(lt))})}).next(()=>_.localDocuments.getOverlayedDocuments(q,Z)).next(J=>{V=J;const lt=[];for(const at of g){const st=BA(at,V.get(at.key).overlayedDocument);st!=null&&lt.push(new Ra(at.key,st,rv(st.value.mapValue),Un.exists(!0)))}return _.mutationQueue.addMutationBatch(q,v,lt,g)}).next(J=>{D=J;const lt=J.applyToLocalDocumentSet(V,nt);return _.documentOverlayCache.saveOverlays(q,J.batchId,lt)})}).then(()=>({batchId:D.batchId,changes:yv(V)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Iu[d.currentUser.toKey()];v||(v=new ie(wt)),v=v.insert(g,_),d.Iu[d.currentUser.toKey()]=v}(s,o.batchId,i),await lo(s,o.changes),await yc(s.remoteStore)}catch(o){const h=Md(o,"Failed to persist write");i.reject(h)}}async function $v(r,e){const i=St(r);try{const s=await LS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Pu.get(h);d&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d._u=!0:o.modifiedDocuments.size>0?jt(d._u,14607):o.removedDocuments.size>0&&(jt(d._u,42227),d._u=!1))}),await lo(i,s,e)}catch(s){await Rs(s)}}function g_(r,e,i){const s=St(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.uu.forEach((h,d)=>{const g=d.view.Da(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=St(d);_.onlineState=g;let v=!1;_.queries.forEach((A,V)=>{for(const D of V.ya)D.Da(g)&&(v=!0)}),v&&Ud(_)}(s.eventManager,e),o.length&&s.au.j_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Cb(r,e,i){const s=St(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Pu.get(e),h=o&&o.key;if(h){let d=new ie(dt.comparator);d=d.insert(h,Ke.newNoDocument(h,At.min()));const g=Nt().add(h),_=new mc(At.min(),new Map,new ie(wt),d,g);await $v(s,_),s.hu=s.hu.remove(h),s.Pu.delete(e),zd(s)}else await nd(s.localStore,e,!1).then(()=>rd(s,e,i)).catch(Rs)}async function Db(r,e){const i=St(r),s=e.batch.batchId;try{const o=await US(i.localStore,e);Wv(i,s,null),Jv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await lo(i,o)}catch(o){await Rs(o)}}async function Vb(r,e,i){const s=St(r);try{const o=await function(d,g){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(V=>(jt(V!==null,37113),A=V.keys(),_.mutationQueue.removeMutationBatch(v,V))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(s.localStore,e);Wv(s,e,i),Jv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await lo(s,o)}catch(o){await Rs(o)}}function Jv(r,e){(r.Eu.get(e)||[]).forEach(i=>{i.resolve()}),r.Eu.delete(e)}function Wv(r,e,i){const s=St(r);let o=s.Iu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Iu[s.currentUser.toKey()]=o}}function rd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.cu.get(e))r.uu.delete(s),i&&r.au.Vu(s,i);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(s=>{r.Tu.containsKey(s)||t0(r,s)})}function t0(r,e){r.lu.delete(e.path.canonicalString());const i=r.hu.get(e);i!==null&&(Vd(r.remoteStore,i),r.hu=r.hu.remove(e),r.Pu.delete(i),zd(r))}function p_(r,e,i){for(const s of i)s instanceof Kv?(r.Tu.addReference(s.key,e),Ib(r,s)):s instanceof Xv?(ot(Ld,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,e),r.Tu.containsKey(s.key)||t0(r,s.key)):_t(19791,{mu:s})}function Ib(r,e){const i=e.key,s=i.path.canonicalString();r.hu.get(i)||r.lu.has(s)||(ot(Ld,"New document in limbo: "+i),r.lu.add(s),zd(r))}function zd(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const i=new dt(Jt.fromString(e)),s=r.du.next();r.Pu.set(s,new vb(i)),r.hu=r.hu.insert(i,s),qv(r.remoteStore,new fa(ni(fv(i.path)),s,"TargetPurposeLimboResolution",lc.le))}}async function lo(r,e,i){const s=St(r),o=[],h=[],d=[];s.uu.isEmpty()||(s.uu.forEach((g,_)=>{d.push(s.Ru(_,e,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const V=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,V?"current":"not-current")}if(v){o.push(v);const V=Cd.Rs(_.targetId,v);h.push(V)}}))}),await Promise.all(d),s.au.j_(o),await async function(_,v){const A=St(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>K.forEach(v,D=>K.forEach(D.ds,q=>A.persistence.referenceDelegate.addReference(V,D.targetId,q)).next(()=>K.forEach(D.As,q=>A.persistence.referenceDelegate.removeReference(V,D.targetId,q)))))}catch(V){if(!ws(V))throw V;ot(Dd,"Failed to update sequence numbers: "+V)}for(const V of v){const D=V.targetId;if(!V.fromCache){const q=A.xs.get(D),Z=q.snapshotVersion,nt=q.withLastLimboFreeSnapshotVersion(Z);A.xs=A.xs.insert(D,nt)}}}(s.localStore,h))}async function Nb(r,e){const i=St(r);if(!i.currentUser.isEqual(e)){ot(Ld,"User change. New user:",e.toKey());const s=await Pv(i.localStore,e);i.currentUser=e,function(h,d){h.Eu.forEach(g=>{g.forEach(_=>{_.reject(new ut(X.CANCELLED,d))})}),h.Eu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await lo(i,s.ks)}}function xb(r,e){const i=St(r),s=i.Pu.get(e);if(s&&s._u)return Nt().add(s.key);{let o=Nt();const h=i.cu.get(e);if(!h)return o;for(const d of h){const g=i.uu.get(d);o=o.unionWith(g.view.Ya)}return o}}function e0(r){const e=St(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=$v.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cb.bind(null,e),e.au.j_=mb.bind(null,e.eventManager),e.au.Vu=gb.bind(null,e.eventManager),e}function Ob(r){const e=St(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Db.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vb.bind(null,e),e}class rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gc(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,i){return null}bu(e,i){return null}wu(e){return MS(this.persistence,new NS,e.initialUser,this.serializer)}yu(e){return new zv(wd.fi,this.serializer)}pu(e){return new jS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rc.provider={build:()=>new rc};class Mb extends rc{constructor(e){super(),this.cacheSizeBytes=e}Su(e,i){jt(this.persistence.referenceDelegate instanceof ic,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new pS(s,e.asyncQueue,i)}yu(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new zv(s=>ic.fi(s,i),this.serializer)}}class sd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>g_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nb.bind(null,this.syncEngine),await ub(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hb}()}createDatastore(e){const i=gc(e.databaseInfo.databaseId),s=function(h){return new FS(h)}(e.databaseInfo);return function(h,d,g,_){return new ZS(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new JS(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>g_(this.syncEngine,i,0),function(){return u_.C()?new u_:new qS}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const V=new Eb(o,h,d,g,_,v);return A&&(V.Au=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=St(o);ot(dr,"RemoteStore shutting down."),h.Ta.add(5),await so(h),h.Ea.shutdown(),h.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}sd.provider={build:()=>new sd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="FirestoreClient";class Lb{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=X_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{ot(Sa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ot(Sa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Md(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function zf(r,e){r.asyncQueue.verifyOperationInProgress(),ot(Sa,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Pv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function y_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await zb(r);ot(Sa,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>h_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>h_(e.remoteStore,o)),r._onlineComponents=e}async function zb(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Sa,"Using user provided OfflineComponentProvider");try{await zf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ps("Error using user provided cache. Falling back to memory cache: "+i),await zf(r,new rc)}}else ot(Sa,"Using default OfflineComponentProvider"),await zf(r,new Mb(void 0));return r._offlineComponents}async function n0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Sa,"Using user provided OnlineComponentProvider"),await y_(r,r._uninitializedComponentsProvider._online)):(ot(Sa,"Using default OnlineComponentProvider"),await y_(r,new sd))),r._onlineComponents}function Pb(r){return n0(r).then(e=>e.syncEngine)}async function Bb(r){const e=await n0(r),i=e.eventManager;return i.onListen=Tb.bind(null,e.syncEngine),i.onUnlisten=bb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Ab.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Rb.bind(null,e.syncEngine),i}function kb(r,e,i={}){const s=new pa;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new Ub({next:D=>{A.Cu(),d.enqueueAndForget(()=>db(h,V)),D.fromCache&&_.source==="server"?v.reject(new ut(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(D)},error:D=>v.reject(D)}),V=new pb(g,A,{includeMetadataChanges:!0,La:!0});return fb(h,V)}(await Bb(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(r,e,i){if(!i)throw new ut(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jb(r,e,i,s){if(e===!0&&s===!0)throw new ut(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function v_(r){if(!dt.isDocumentKey(r))throw new ut(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function E_(r){if(dt.isDocumentKey(r))throw new ut(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _c(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function mr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_c(r);throw new ut(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="firestore.googleapis.com",T_=!0;class A_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r0,this.ssl=T_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:T_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Lv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mS)throw new ut(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new G1;switch(s.type){case"firstParty":return new K1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=__.get(i);s&&(ot("ComponentProvider","Removing Datastore"),__.delete(i),s.terminate())}(this),Promise.resolve()}}function qb(r,e,i,s={}){var o;r=mr(r,vc);const h=fd(e),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),_=`${e}:${i}`;h&&(yT(`https://${_}`),TT("Firestore",!0)),d.host!==r0&&d.host!==_&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:s});if(!Ku(v,g)&&(r._setSettings(v),s.mockUserToken)){let A,V;if(typeof s.mockUserToken=="string")A=s.mockUserToken,V=Ye.MOCK_USER;else{A=_T(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new ut(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new Ye(D)}r._authCredentials=new Q1(new Y_(A,V))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new yr(this.firestore,e,this._query)}}class gn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class ya extends yr{constructor(e,i,s){super(e,i,fv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new dt(e))}withConverter(e){return new ya(this.firestore,e,this._path)}}function S_(r,e,...i){if(r=xi(r),a0("collection","path",e),r instanceof vc){const s=Jt.fromString(e,...i);return E_(s),new ya(r,null,s)}{if(!(r instanceof gn||r instanceof ya))throw new ut(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(e,...i));return E_(s),new ya(r.firestore,null,s)}}function ld(r,e,...i){if(r=xi(r),arguments.length===1&&(e=X_.newId()),a0("doc","path",e),r instanceof vc){const s=Jt.fromString(e,...i);return v_(s),new gn(r,null,new dt(s))}{if(!(r instanceof gn||r instanceof ya))throw new ut(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(e,...i));return v_(s),new gn(r.firestore,r instanceof ya?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="AsyncQueue";class R_{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new kv(this,"async_queue_retry"),this.ec=()=>{const s=Lf();s&&ot(b_,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const i=Lf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const i=Lf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const i=new pa;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!ws(e))throw e;ot(b_,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const i=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,Mi("INTERNAL UNHANDLED ERROR: ",w_(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=i,i}enqueueAfterDelay(e,i,s){this.nc(),this.Xu.indexOf(e)>-1&&(i=0);const o=Od.createAndSchedule(this,e,i,s,h=>this.oc(h));return this.Hu.push(o),o}nc(){this.Ju&&_t(47125,{_c:w_(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const i of this.Hu)if(i.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const i=this.Hu.indexOf(e);this.Hu.splice(i,1)}}function w_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class oo extends vc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new R_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R_(e),this._firestoreClient=void 0,await e}}}function Hb(r,e){const i=typeof r=="object"?r:N1(),s=typeof r=="string"?r:Ju,o=w1(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=gT("firestore");h&&qb(o,...h)}return o}function s0(r){if(r._terminated)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Gb(r),r._firestoreClient}function Gb(r){var e,i,s;const o=r._freezeSettings(),h=function(g,_,v,A){return new uA(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,i0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Lb(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._byteString=e}static fromBase64String(e){try{return new As(qe.fromBase64String(e))}catch(i){throw new ut(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new As(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=/^__.*__$/;class Fb{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ra(e,this.data,this.fieldMask,i,this.fieldTransforms):new ao(e,this.data,i,this.fieldTransforms)}}class l0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ra(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function o0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{hc:r})}}class kd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new kd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Tc({path:s,Ec:!1});return o.dc(e),o}Ac(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return sc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(o0(this.hc)&&Qb.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class Yb{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||gc(e)}gc(e,i,s,o=!1){return new kd({hc:e,methodName:i,fc:s,path:je.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jd(r){const e=r._freezeSettings(),i=gc(r._databaseId);return new Yb(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Kb(r,e,i,s,o,h={}){const d=r.gc(h.merge||h.mergeFields?2:0,e,i,o);Hd("Data must be an object, but it was:",d,s);const g=u0(s,d);let _,v;if(h.merge)_=new mn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const V of h.mergeFields){const D=od(e,V,i);if(!d.contains(D))throw new ut(X.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);h0(A,D)||A.push(D)}_=new mn(A),v=d.fieldTransforms.filter(V=>_.covers(V.field))}else _=null,v=d.fieldTransforms;return new Fb(new an(g),_,v)}class Ac extends Tc{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ac}}class qd extends Tc{_toFieldTransform(e){return new UA(e.path,new eo)}isEqual(e){return e instanceof qd}}function Xb(r,e,i,s){const o=r.gc(1,e,i);Hd("Data must be an object, but it was:",o,s);const h=[],d=an.empty();ba(s,(_,v)=>{const A=Gd(e,_,i);v=xi(v);const V=o.Ac(A);if(v instanceof Ac)h.push(A);else{const D=uo(v,V);D!=null&&(h.push(A),d.set(A,D))}});const g=new mn(h);return new l0(d,g,o.fieldTransforms)}function Zb(r,e,i,s,o,h){const d=r.gc(1,e,i),g=[od(e,s,i)],_=[o];if(h.length%2!=0)throw new ut(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<h.length;D+=2)g.push(od(e,h[D])),_.push(h[D+1]);const v=[],A=an.empty();for(let D=g.length-1;D>=0;--D)if(!h0(v,g[D])){const q=g[D];let Z=_[D];Z=xi(Z);const nt=d.Ac(q);if(Z instanceof Ac)v.push(q);else{const J=uo(Z,nt);J!=null&&(v.push(q),A.set(q,J))}}const V=new mn(v);return new l0(A,V,d.fieldTransforms)}function $b(r,e,i,s=!1){return uo(i,r.gc(s?4:3,e))}function uo(r,e){if(c0(r=xi(r)))return Hd("Unsupported field value:",e,r),u0(r,e);if(r instanceof Tc)return function(s,o){if(!o0(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let _=uo(g,o.Rc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(r,e)}return function(s,o){if((s=xi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ve.fromDate(s);return{timestampValue:nc(o.serializer,h)}}if(s instanceof ve){const h=new ve(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nc(o.serializer,h)}}if(s instanceof Pd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof As)return{bytesValue:Vv(o.serializer,s._byteString)};if(s instanceof gn){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:bd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bd)return function(d,g){return{mapValue:{fields:{[iv]:{stringValue:av},[Wu]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Vc("VectorValues must only contain numeric values.");return Ed(g.serializer,v)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${_c(s)}`)}(r,e)}function u0(r,e){const i={};return $_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(r,(s,o)=>{const h=uo(o,e.Ic(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function c0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ve||r instanceof Pd||r instanceof As||r instanceof gn||r instanceof Tc||r instanceof Bd)}function Hd(r,e,i){if(!c0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=_c(i);throw s==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+s)}}function od(r,e,i){if((e=xi(e))instanceof Ec)return e._internalPath;if(typeof e=="string")return Gd(r,e);throw sc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Jb=new RegExp("[~\\*/\\[\\]]");function Gd(r,e,i){if(e.search(Jb)>=0)throw sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ec(...e.split("."))._internalPath}catch{throw sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function sc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new ut(X.INVALID_ARGUMENT,g+r+_)}function h0(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Wb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Qd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Wb extends f0{data(){return super.data()}}function Qd(r,e){return typeof e=="string"?Gd(r,e):e instanceof Ec?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fd{}class d0 extends Fd{}function e2(r,e,...i){let s=[];e instanceof Fd&&s.push(e),s=s.concat(i),function(h){const d=h.filter(_=>_ instanceof Kd).length,g=h.filter(_=>_ instanceof Yd).length;if(d>1||d>0&&g>0)throw new ut(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Yd extends d0{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Yd(e,i,s)}_apply(e){const i=this._parse(e);return m0(e._query,i),new yr(e.firestore,e.converter,Zf(e._query,i))}_parse(e){const i=jd(e.firestore);return function(h,d,g,_,v,A,V){let D;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ut(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){D_(V,A);const Z=[];for(const nt of V)Z.push(C_(_,h,nt));D={arrayValue:{values:Z}}}else D=C_(_,h,V)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||D_(V,A),D=$b(g,d,V,A==="in"||A==="not-in");return _e.create(v,A,D)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Kd extends Fd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Kd(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Ln.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const _ of g)m0(d,_),d=Zf(d,_)}(e._query,i),new yr(e.firestore,e.converter,Zf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xd extends d0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Xd(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new ut(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ut(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new to(h,d)}(e._query,this._field,this._direction);return new yr(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Cs(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function n2(r,e="asc"){const i=e,s=Qd("orderBy",r);return Xd._create(s,i)}function C_(r,e,i){if(typeof(i=xi(i))=="string"){if(i==="")throw new ut(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dv(e)&&i.indexOf("/")!==-1)throw new ut(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Jt.fromString(i));if(!dt.isDocumentKey(s))throw new ut(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jy(r,new dt(s))}if(i instanceof gn)return jy(r,i._key);throw new ut(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_c(i)}.`)}function D_(r,e){if(!Array.isArray(r)||r.length===0)throw new ut(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function m0(r,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ut(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class i2{convertValue(e,i="none"){switch(Ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ba(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Wu].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new Bd(h)}convertGeoPoint(e){return new Pd(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=uc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const i=va(e);return new ve(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Jt.fromString(e);jt(Uv(s),9688,{name:e});const o=new Jl(s.get(1),s.get(3)),h=new dt(s.popFirst(5));return o.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class r2 extends f0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Qd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Fu extends r2{data(e={}){return super.data(e)}}class s2{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ku(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Fu(this._firestore,this._userDataWriter,s.key,s,new ku(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new Fu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ku(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Fu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ku(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:l2(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function l2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}class o2 extends i2{constructor(e){super(),this.firestore=e}convertBytes(e){return new As(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,i)}}function u2(r){r=mr(r,yr);const e=mr(r.firestore,oo),i=s0(e),s=new o2(e);return t2(r._query),kb(i,r._query).then(o=>new s2(e,s,r,o))}function c2(r,e,i,...s){r=mr(r,gn);const o=mr(r.firestore,oo),h=jd(o);let d;return d=typeof(e=xi(e))=="string"||e instanceof Ec?Zb(h,"updateDoc",r._key,e,i,s):Xb(h,"updateDoc",r._key,e),Zd(o,[d.toMutation(r._key,Un.exists(!0))])}function h2(r){return Zd(mr(r.firestore,oo),[new Td(r._key,Un.none())])}function f2(r,e){const i=mr(r.firestore,oo),s=ld(r),o=a2(r.converter,e);return Zd(i,[Kb(jd(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Un.exists(!1))]).then(()=>s)}function Zd(r,e){return function(s,o){const h=new pa;return s.asyncQueue.enqueueAndForget(async()=>wb(await Pb(s),o,h)),h.promise}(s0(r),e)}function d2(){return new qd("serverTimestamp")}(function(e,i=!0){(function(o){bs=o})(I1),Zu(new Kl("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new oo(new F1(s.getProvider("auth-internal")),new X1(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(v.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ms(Vy,Iy,e),ms(Vy,Iy,"esm2017")})();var ur={};const ha={apiKey:ur.FIREBASE_API_KEY,authDomain:ur.FIREBASE_AUTH_DOMAIN,projectId:ur.FIREBASE_PROJECT_ID,storageBucket:ur.FIREBASE_STORAGE_BUCKET,messagingSenderId:ur.FIREBASE_MESSAGING_SENDER_ID,appId:ur.FIREBASE_APP_ID,measurementId:ur.FIREBASE_MEASUREMENT_ID};let ud,ql;const m2=["apiKey","authDomain","projectId"],V_=m2.filter(r=>!ha[r]);if(V_.length>0){console.warn(`WARNING: Firebase configuration is missing the following keys: ${V_.join(", ")}. Using placeholder values. Firebase functionality will be impaired. Please set these environment variables for Firebase to work correctly.`);const r={apiKey:ha.apiKey||"YOUR_API_KEY_NOT_SET",authDomain:ha.authDomain||"YOUR_PROJECT_ID.firebaseapp.com",projectId:ha.projectId||"YOUR_PROJECT_ID_NOT_SET",storageBucket:ha.storageBucket||"YOUR_PROJECT_ID.appspot.com",messagingSenderId:ha.messagingSenderId||"YOUR_MESSAGING_SENDER_ID",appId:ha.appId||"YOUR_APP_ID"};ud=Hf(r)}else ud=Hf(ha);ql=Hb(ud);const g2=()=>{const[r,e]=Re.useState([]),[i,s]=Re.useState(null),[o,h]=Re.useState(!0),[d,g]=Re.useState(null),_=Re.useCallback(async()=>{h(!0),g(null);try{const lt=S_(ql,"log_entries"),at=e2(lt,n2("timestamp","desc")),Et=(await u2(at)).docs.map(gt=>{var N;const tt=gt.data();return{id:gt.id,timestamp:((N=tt.timestamp)==null?void 0:N.toDate())||new Date,type:tt.type,activity:tt.activity,poopSubtype:tt.poopSubtype,notes:tt.notes,mealSubtype:tt.mealSubtype,foodType:tt.foodType}});e(Et)}catch(lt){console.error("Error fetching log entries from Firebase:",lt),g(`Failed to load activities: ${lt.message||"Ensure Firebase configuration is correct."}`),e([])}finally{h(!1)}},[]);Re.useEffect(()=>{_()},[_]);const v=Re.useCallback(async(lt,at)=>{h(!0),g(null);try{const st=S_(ql,"log_entries"),Et={...lt};if(lt.timestamp instanceof Date?Et.timestamp=ve.fromDate(lt.timestamp):at||(Et.timestamp=d2()),Object.keys(Et).forEach(gt=>{Et[gt]===void 0&&delete Et[gt]}),at){const gt=ld(ql,"log_entries",at);lt.timestamp instanceof Date||delete Et.timestamp,await c2(gt,Et)}else await f2(st,Et);s(null),_()}catch(st){console.error("Error saving log entry to Firebase:",st),g(`Failed to save activity: ${st.message||"Ensure Firebase configuration is correct."}`)}finally{h(!1)}},[_]),A=Re.useCallback(lt=>{if(s(lt),lt){const at=document.getElementById("log-entry-form-section");at==null||at.scrollIntoView({behavior:"smooth",block:"start"})}},[]),V=Re.useCallback(async lt=>{h(!0),g(null);try{const at=ld(ql,"log_entries",lt);await h2(at),e(st=>st.filter(Et=>Et.id!==lt)),i&&i.id===lt&&s(null)}catch(at){console.error("Error deleting log entry from Firebase:",at),g(`Failed to delete activity: ${at.message||"Ensure Firebase configuration is correct."}`)}finally{h(!1)}},[i]),D=r,q=lt=>{const at=Math.floor((new Date().getTime()-lt.getTime())/1e3);let st=at/31536e3;return st>1?Math.floor(st)+" years ago":(st=at/2592e3,st>1?Math.floor(st)+" months ago":(st=at/86400,st>1?Math.floor(st)+" days ago":(st=at/3600,st>1?Math.floor(st)+" hours ago":(st=at/60,st>1?Math.floor(st)+" minutes ago":at<10?"just now":Math.floor(at)+" seconds ago"))))},Z=D.find(lt=>lt.type===he.Meal),nt=D.find(lt=>lt.type===he.Bathroom&&(lt.activity===ee.Pee||lt.activity===ee.Both)),J=D.find(lt=>lt.type===he.Bathroom&&(lt.activity===ee.Poop||lt.activity===ee.Both));return Q.jsxs("div",{className:"bg-gradient-to-br from-sky-100 to-indigo-200 min-h-screen text-slate-800 py-8 px-4 flex flex-col items-center",children:[Q.jsxs("header",{className:"mb-10 text-center",children:[Q.jsxs("h1",{className:"text-5xl font-bold text-slate-700",children:[Q.jsx("span",{role:"img","aria-label":"lightbulb emoji",className:"mr-2",children:"💡"}),"Positive Insights"]}),Q.jsx("p",{className:"text-slate-600 mt-2 text-lg",children:"Tracking daily moments and activities for a better understanding."})]}),Q.jsxs("main",{className:"w-full max-w-2xl space-y-8",children:[d&&Q.jsxs("section",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative",role:"alert",children:[Q.jsx("strong",{className:"font-bold",children:"Error: "}),Q.jsx("span",{className:"block sm:inline",children:d}),Q.jsx("button",{onClick:()=>g(null),className:"absolute top-0 bottom-0 right-0 px-4 py-3","aria-label":"Close error message",children:Q.jsxs("svg",{className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[Q.jsx("title",{children:"Close"}),Q.jsx("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]}),Q.jsx("section",{id:"log-entry-form-section","aria-labelledby":"form-heading",children:Q.jsx(tT,{onSaveEntry:v,editingEntry:i,onCancelEdit:()=>s(null)})}),o&&!r.length&&Q.jsxs("div",{className:"text-center py-10",children:[Q.jsxs("svg",{className:"animate-spin h-10 w-10 text-sky-600 mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Q.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Q.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Q.jsx("p",{className:"text-slate-600 mt-2",children:"Loading activities..."})]}),(!o||r.length>0)&&(Z||nt||J)&&Q.jsxs("section",{className:"bg-white/80 backdrop-blur-md shadow-xl rounded-xl p-6","aria-labelledby":"summary-heading",children:[Q.jsx("h2",{id:"summary-heading",className:"text-2xl font-semibold text-slate-700 mb-4",children:"Quick Summary"}),Q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[Q.jsxs("div",{children:[Q.jsxs("p",{className:"text-sm text-slate-500",children:["Last Meal ",Q.jsx("span",{role:"img","aria-label":"food bowl",children:"🍲"})]}),Q.jsx("p",{className:"text-lg font-medium text-sky-600",children:Z?q(Z.timestamp):"N/A"}),Z&&Q.jsxs("p",{className:"text-xs text-slate-500",children:["(",Z.mealSubtype===ti.Given?"Given":"Stolen",": ",Z.foodType||"Food",")"]})]}),Q.jsxs("div",{children:[Q.jsxs("p",{className:"text-sm text-slate-500",children:["Last Pee ",Q.jsx("span",{role:"img","aria-label":"drop",children:"💧"})]}),Q.jsx("p",{className:"text-lg font-medium text-amber-600",children:nt?q(nt.timestamp):"N/A"})]}),Q.jsxs("div",{children:[Q.jsxs("p",{className:"text-sm text-slate-500",children:["Last Poop ",Q.jsx("span",{role:"img","aria-label":"poop",children:"💩"})]}),Q.jsx("p",{className:"text-lg font-medium text-orange-600",children:J?q(J.timestamp):"N/A"}),J&&J.poopSubtype&&Q.jsxs("p",{className:"text-xs text-slate-500",children:["(",J.poopSubtype.charAt(0)+J.poopSubtype.slice(1).toLowerCase(),")"]})]})]})]}),(!o||r.length>0)&&Q.jsx(aT,{entries:D,onEditEntry:A,onDeleteEntry:V,isLoading:o&&r.length>0})]}),Q.jsxs("footer",{className:"mt-12 text-center text-slate-500 text-sm",children:[Q.jsx("p",{children:"Made with ❤️ for happy insights!"}),Q.jsx("p",{children:"Entries can be saved in Firebase when configured."})]})]})},g0=document.getElementById("root");if(!g0)throw new Error("Could not find root element to mount to");const p2=$E.createRoot(g0);p2.render(Q.jsx(HE.StrictMode,{children:Q.jsx(g2,{})}));
